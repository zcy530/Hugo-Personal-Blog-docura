---
title: MERN E-Commerce
slug: MERN-E-Commerce
lastmod: 2025-07-01T00:00:00+00:00
---

### é¡¹ç›®ç®€ä»‹

- ç®€å†
    
    é¡¹ç›®ä»‹ç»ï¼šé‡‡ç”¨ MERN æŠ€æœ¯æ¶æ„ (reactå…¨å®¶æ¡¶ + nodejs + MongeDBæ•°æ®åº“ + Expressæ¡†æ¶)ï¼ŒåŒ…æ‹¬ Redux çš„çŠ¶æ€ç®¡ç†æ–¹æ¡ˆå’Œ React Router 6 è·¯ç”±ç®¡ç†æ–¹æ¡ˆï¼Œä½¿ç”¨ mongoose æ¥è¿æ¥ MongoDB æ•°æ®åº“ï¼Œå®ç°äº†äº§å“çš„å®Œæ•´å¢åˆ æŸ¥æ”¹æ“ä½œï¼Œåˆ†é¡µæµè§ˆå’Œæ¨¡ç³Šæœç´¢ï¼Œç”¨æˆ·çš„ç™»å½•æ³¨å†Œå’Œä¿¡æ¯ç®¡ç†ï¼Œä½¿ç”¨ JWT èº«ä»½éªŒè¯å’Œæˆæƒï¼ŒéªŒè¯ç”µå­é‚®ä»¶ï¼ŒåŠ å…¥è´­ç‰©è½¦å’Œä¸‹è®¢å•ç­‰åŠŸèƒ½ï¼Œå¹¶æŠŠé¡¹ç›®éƒ¨ç½²åœ¨ Heroku ä¸Š
    
- Udemy ä»‹ç»
    
    There are a lot of "eCommerce" courses out there, but most use some kind of prebuilt plugin or platform. In this course, we will build a completely customized eCommerce / shopping cart application from scratch with the MERN stack with the following functionality...
    
    ç°åœ¨æœ‰å¾ˆå¤š "ç”µå­å•†åŠ¡ "è¯¾ç¨‹ï¼Œä½†å¤§å¤šæ•°éƒ½ä½¿ç”¨æŸç§é¢„åˆ¶çš„æ’ä»¶æˆ–å¹³å°ã€‚åœ¨æœ¬è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨MERNå †æ ˆä»å¤´å¼€å§‹å»ºç«‹ä¸€ä¸ªå®Œå…¨å®šåˆ¶çš„ç”µå­å•†åŠ¡/è´­ç‰©è½¦åº”ç”¨ç¨‹åºï¼Œå…·æœ‰ä»¥ä¸‹åŠŸèƒ½â€¦
    
    Full featured shopping cart 
    
    Product reviews and ratings
    
    Top products carousel top3 äº§å“è½®æ’­å›¾
    
    Product pagination äº§å“åˆ†é¡µ
    
    Product search feature äº§å“æœç´¢åŠŸèƒ½
    
    User profile with orders å¸¦è®¢å•çš„ç”¨æˆ·èµ„æ–™
    
    Admin product management admin äº§å“ç®¡ç†
    
    Admin user management admin ç”¨æˆ·ç®¡ç†
    
    Admin Order details page admin è®¢å•è¯¦æƒ…é¡µ
    
    Mark orders as delivered option æ ‡è®°è®¢å•ä¸ºå·²äº¤ä»˜é€‰é¡¹ 
    
    Checkout process (shipping, payment method, etc) 
    
    ç»“è´¦æµç¨‹ï¼ˆè¿è¾“ã€æ”¯ä»˜æ–¹å¼ç­‰ï¼‰
    
    PayPal / credit card integration è´å®/ä¿¡ç”¨å¡æ•´åˆ
    
    Custom database seeder script è‡ªå®šä¹‰æ•°æ®åº“æ’­ç§æœºè„šæœ¬
    
    This is not a documentation-type course. This is a jump in and get your hands dirty course where by the end, you have an actual real-world project to use and put on your portfolio. You will learn the following by completing this course..
    
    è¿™ä¸æ˜¯ä¸€ä¸ªæ–‡æ¡£ç±»å‹çš„è¯¾ç¨‹ã€‚è¿™æ˜¯ä¸€ä¸ªè·³å…¥å¹¶å¼„è„ä½ çš„æ‰‹çš„è¯¾ç¨‹ï¼Œåˆ°æœ€åï¼Œä½ æœ‰ä¸€ä¸ªå®é™…çš„çœŸå®ä¸–ç•Œçš„é¡¹ç›®æ¥ä½¿ç”¨å¹¶æ”¾åœ¨ä½ çš„æŠ•èµ„ç»„åˆä¸Šã€‚é€šè¿‡å®Œæˆæœ¬è¯¾ç¨‹ï¼Œä½ å°†å­¦åˆ°ä»¥ä¸‹å†…å®¹ã€‚
    
    React with Functional Components & Hooks
    
    React router
    
    React-Bootstrap UI library
    
    How to structure components
    
    Component level state & props
    
    Managing global state with Redux (Actions & Reducers)
    
    Using Redux state in components (useDispatch & useSelector)
    
    Creating an extensive back end with Express
    
    Working with a MongoDB database and the Mongoose ODM
    
    JWT authentication (JSON web tokens)
    
    Creating custom authentication middleware
    
    Custom error handler
    
    Integrating the PayPal API
    
    Environment variables
    
    Project deployment
    
    Much more!
    
    æ‚¨å°†ä¼šå­¦åˆ°ä»€ä¹ˆ
    
    Build a custom eCommerce platform with React, Redux, Node, Express & MongoDB 
    
    ç”¨Reactã€Reduxã€Nodeã€Expresså’ŒMongoDBå»ºç«‹ä¸€ä¸ªå®šåˆ¶çš„ç”µå­å•†åŠ¡å¹³å°
    
    An actual real-world project built in a linear and progressive manner 
    
    ä»¥çº¿æ€§å’Œæ¸è¿›çš„æ–¹å¼æ„å»ºä¸€ä¸ªå®é™…çš„çœŸå®ä¸–ç•Œé¡¹ç›®
    
    Full featured shopping cart with PayPal & credit/debit payments
    
    å…·æœ‰PayPalå’Œä¿¡ç”¨å¡/å€Ÿè®°å¡æ”¯ä»˜åŠŸèƒ½çš„å…¨åŠŸèƒ½è´­ç‰©è½¦
    
    Admin area to manage customers, products & orders
    
    ç®¡ç†åŒºå¯ä»¥ç®¡ç†å®¢æˆ·ã€äº§å“å’Œè®¢å•
    
    Product rating & review system
    
    äº§å“è¯„çº§å’Œè¯„è®ºç³»ç»Ÿ
    
    Product search, carousel, pagination & more
    
    äº§å“æœç´¢ã€æ—‹è½¬æœ¨é©¬ã€åˆ†é¡µç­‰åŠŸèƒ½
    
- ç”¨é€šä¿—çš„è¯­è¨€ä»‹ç»è¿™ä¸ªé¡¹ç›®
    
    è¿™æ˜¯ä¸€ä¸ªåŠŸèƒ½æ¯”è¾ƒé½å…¨çš„è´­ç‰©ç½‘ç«™ï¼Œé¦–é¡µä¼šå±•ç¤ºä¸€äº›å•†å“ï¼Œæ¯å¼ å•†å“å¡ç‰‡ä¸Šæœ‰è¯¦ç»†ä¿¡æ¯ï¼Œé¡¶éƒ¨æœ‰æœç´¢æ¡†è¿›è¡Œæ¨¡ç³Šæœç´¢ã€‚ç‚¹å¼€ä¹‹åæ˜¯å•†å“è¯¦æƒ…é¡µï¼Œå¯ä»¥æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ï¼Œå¯¹å…¶è¿›è¡Œè¯„è®ºï¼Œæˆ–è€…é€‰æ‹©æ•°é‡ï¼ŒåŠ å…¥è´­ç‰©è½¦ã€‚è¿™é‡Œæ¶‰åŠåˆ°ç”¨æˆ·ç™»å½•æ³¨å†Œçš„é—®é¢˜ï¼Œå› æ­¤æˆ‘å®ç°äº†ç”¨æˆ·çš„è®¤è¯å’Œæˆæƒ Authentication å’Œ Authorizationã€‚åŠ å…¥ä¹‹åå‘¢ï¼Œä¼šè·³è½¬åˆ°è´­ç‰©è½¦é¡µé¢é‡Œï¼Œè´­ç‰©è½¦ä¸­å¯ä»¥ä¹Ÿè¿›è¡Œäº§å“çš„ä¿®æ”¹å’Œåˆ é™¤ï¼Œå·¦ä¾§ä¼šæ˜¾ç¤ºæ€»çš„æ•°é‡å’Œæ€»çš„ä»·æ ¼ã€‚æ¥ä¸‹æ¥çš„æ”¯ä»˜åŠŸèƒ½ï¼Œæˆ‘å®ç°äº†å¾®ä¿¡æ”¯ä»˜å’Œæ”¯ä»˜å®æ”¯ä»˜çš„æ¥å£ã€‚é™¤æ­¤ä¹‹å¤–æœ‰ä¸€ä¸ªå¯¹åº”çš„ admin ç®¡ç†ç³»ç»Ÿï¼Œå¯ä»¥å¯¹æ‰€ä»¥äº§å“å’Œç”¨æˆ·è¿›è¡Œå¢åˆ æ”¹ã€‚é™¤æ­¤ä¹‹å¤–è¿˜æœ‰ä¸€äº›å°çš„åŠŸèƒ½ï¼Œæ¯”å¦‚æ¨¡ç³Šæœç´¢å•†å“ï¼Œæ˜¾ç¤ºtop3çš„å•†å“ã€‚å¤§æ¦‚å°±æ˜¯è¿™æ ·
    
- é¡¹ç›®äº®ç‚¹
    1. å¤æ‚åº¦é«˜ï¼Œå®Œæˆåº¦é«˜ï¼Œå…¨æ ˆå¼€å‘ï¼ŒåŠŸèƒ½å®Œå–„ï¼Œé¡¹ç›®æ–‡ä»¶ç»“æ„å¾ˆæ¸…æ™°
    2. å¯¹ä¸šåŠ¡ç»„ä»¶è¿›è¡Œäº†æŠ½è±¡ï¼Œæ¯”å¦‚ Messengerã€Loderã€æœç´¢æ ç»„ä»¶ï¼ŒæŠ½ç¦»äº†ä¸€äº›å¼€ç®±å³ç”¨çš„ç»„ä»¶
    3. åœ¨é¡¹ç›®æŠ€æœ¯é€‰å‹ä¸Šé€‰å–äº†æ¯”è¾ƒæµè¡Œçš„ mern æŠ€æœ¯æ ˆ
    4. å¯¹å‰ç«¯çš„æ€§èƒ½ä¼˜åŒ–æœ‰ä¸€å®šçš„å®è·µï¼ŒåŒ…æ‹¬å›¾ç‰‡æ‡’åŠ è½½ã€èµ„æºé¢„åŠ è½½
    5. éƒ¨ç½²åœ¨äº†äº‘å¹³å°ä¸Šé¢
    
    ![Untitled](Untitled.png)
    
- é¡¹ç›®éš¾ç‚¹
    1. å¤æ‚åº¦é«˜ï¼Œå·¥ä½œé‡å¤§ï¼Œå…¨æ ˆå¼€å‘ï¼Œå¾ˆå¤šåŠŸèƒ½çš„å®ç°
    2. å¯¹è¿™ç§å¤æ‚çš„é¡¹ç›®çš„ç»“æ„çš„æŒæ¡ï¼Œç»å¸¸å°±æ˜¯æ”¹äº†è¿™ä¸ªå¿˜è®°æ”¹é‚£ä¸ªï¼Œæ¯”å¦‚ç»™ redux é‡Œçš„ action åŠ äº†å‚æ•°ï¼Œåˆå¿˜äº†ç»™ homeScreen é‡Œé¢åŠ ä¸Šå‚æ•° 
    3. ç”¨æˆ·è®¤è¯å’Œæˆæƒ
    4. Redux çš„ä½¿ç”¨ï¼Œæ¦‚å¿µæŠ½è±¡ï¼Œæ­¥éª¤å¤æ‚ï¼Œä½†æˆ‘æ€»ç»“äº†ä¸€ä¸‹
    5. æ”¯ä»˜çš„ api
    6. éƒ¨ç½²

### é¡¹ç›®ç»†èŠ‚

- MERN æŠ€æœ¯æ ˆ
    
    MERN(MongoDBã€Expressã€Reactã€Node.js)æŠ€æœ¯æ ˆæ˜¯ä¸“é—¨é’ˆ å¯¹ SPA å’Œ NoSQL çƒ­æ½®è€Œå‘å±•èµ·æ¥çš„æ—©æœŸå¼€æºæŠ€æœ¯æ ˆä¹‹ä¸€ã€‚MERN æŠ€ æœ¯æ ˆä¸­çš„ React æ˜¯ ä¸€ä¸ªç”¨æ¥æ„å»ºç”¨æˆ·ç•Œé¢çš„ JavaScript åº“ã€‚MongoDB æ˜¯ä¸€ä¸ªæµè¡Œçš„æ•°æ® å­˜å‚¨ NoSQL æ•°æ®åº“ã€‚Node.js æ˜¯ä¸€ä¸ªæœåŠ¡å™¨ç«¯ JavaScript è¿è¡Œç¯å¢ƒï¼Œè€Œ Express æ˜¯ä¸€ä¸ªæ„å»ºäº Node.js ä¹‹ä¸Šçš„ Web æœåŠ¡å™¨
    
    1. å‰ç«¯å’Œåç«¯å¼€å‘ä¹‹é—´è¿›è¡Œè‡ªç”±åˆ‡æ¢çš„èƒ½åŠ›ã€‚mern æŠ€æœ¯æ ˆå®ƒå…¨éƒ¨ä½¿ç”¨çš„æ˜¯åŒä¸€ä¸ªè¯­è¨€ï¼Œæ— è®ºåœ¨åç«¯è¿˜æ˜¯å‰ç«¯ï¼Œéƒ½ä½¿ç”¨ JavaScriptï¼Œæ‰€ä»¥åªéœ€ç†Ÿæ‚‰ä¸€ç§è¯­è¨€ï¼Œä¾¿å¯åœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´è½»æ¾åˆ‡æ¢ï¼Œå°±å¯ä»¥é«˜æ•ˆå¼€å‘ä¸€ä¸ªå®Œæ•´çš„webåº”ç”¨ï¼Œæˆ‘ä»¬å¯ä»¥å°†JavaScriptç”¨äºå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯ä»£ç ï¼Œç”šè‡³å¯ä»¥ç”¨å®ƒæ¥ç¼–å†™MongoDBçš„æ•°æ®åº“è„šæœ¬
    2. å…·æœ‰æ•ˆç‡å’Œç”Ÿäº§ç‡ä¸Šçš„ä¼˜åŠ¿ã€‚æ‰€æœ‰è¿™å››ç§æŠ€æœ¯å‡åŸºäºæ¡†æ¶ä¸­çš„Javascriptå’ŒJSON(JavaScript Object Notationï¼Œå¯¹è±¡è¡¨ç¤ºæ³•)æ•°æ®ï¼Œè¿›è€ŒèŠ‚çœäº†æ¶ˆè€—åœ¨æ½œåœ¨JSONç¼–ç ä¸Šçš„æ—¶é—´ã€‚ç”±äºå‡æ ˆé‡Œå„ç§å·¥å…·éƒ½å¯ä»¥åœ¨æœ¬åœ°ä½¿ç”¨åº•å±‚çš„JSONæ•°æ®ï¼Œå› æ­¤Node + Express.js + MongoDBæ•°æ®åº“çš„ç»“åˆï¼Œä¸ºåŸºäºJSONçš„WebæœåŠ¡æä¾›äº†å‡ºè‰²çš„å®ç°æ•ˆæœ
    3. é‰´äºå…¶äº‹ä»¶é©±åŠ¨çš„æ¶æ„å’Œæ— é˜»å¡çš„I/Oç‰¹ç‚¹ï¼ŒNode.jsåœ¨æ­¤æˆä¸ºäº†ä¸€ç§éå¸¸å¿«é€Ÿå’Œçµæ´»çš„WebæœåŠ¡å™¨
    4. MERNæ ˆæä¾›äº†å¤§é‡å¯ä¾›äººä»¬å…è´¹ä½¿ç”¨çš„ npm è½¯ä»¶åŒ…ã€‚å³ä¾¿å®ƒä»¬æ— æ³•å®Œå…¨æ»¡è¶³æ‚¨çš„éœ€æ±‚ï¼Œæ‚¨ä¹Ÿå¯ä»¥é€šè¿‡å¯¹å…¶ forkï¼Œæ¥åˆ¶ä½œå‡ºå±äºè‡ªå·±çš„ npm è½¯ä»¶åŒ…
- Express
    
    [Express detail](https://www.notion.so/Express-detail-6998fb67b6614fec9e6e500e6c190bff?pvs=21)
    
    [(190æ¡æ¶ˆæ¯) ä¸€äº›åŸºäºnodejsçš„æœåŠ¡ç«¯æ¡†æ¶å¯¹æ¯”ã€‚expressã€koaã€eggã€nestã€midway_Nicker2013çš„åšå®¢-CSDNåšå®¢_egg express koa](https://blog.csdn.net/Nicker_/article/details/110881857)
    
    [express](https://so.csdn.net/so/search?q=express&spm=1001.2101.3001.7020)ã€koaã€eggã€nestã€midwayéƒ½æ˜¯å¸¸è§çš„nodejså¼€æºæ¡†æ¶ã€‚å…¶å…³ç³»ï¼ŒåŸºæœ¬å¦‚ä¸‹ï¼š
    
    ```jsx
    Midway.js ---|> Egg.js ---|> Koa.js,
                   Nest.js ---|> Express.js
    ```
    
    è€Œkoaå®é™…ä¸Šæ˜¯ express å›¢é˜Ÿç”¨æ–°ç†å¿µé‡å†™çš„ï¼Œä»[æ¶æ„](https://so.csdn.net/so/search?q=%E6%9E%B6%E6%9E%84&spm=1001.2101.3001.7020)ä¸Šè®²ï¼Œæ›´åŠ å…ˆè¿›ä¸€äº›
    
    midway.jså’Œegg.jsèƒŒåéƒ½æ˜¯é˜¿é‡Œçš„å›¢é˜Ÿï¼Œå…¶æ¶æ„åŸºäºkoa
    
    nest.jsèƒŒåæ˜¯å›½å¤–çš„Trilonå›¢é˜Ÿï¼Œå…¶æ¶æ„åŸºäºexpress
    
    Express æ˜¯ä¸€ä¸ªä¿æŒæœ€å°è§„æ¨¡çš„çµæ´»çš„Â [Node](https://so.csdn.net/so/search?q=Node&spm=1001.2101.3001.7020).js Web åº”ç”¨ç¨‹åºå¼€å‘æ¡†æ¶ï¼Œä¸º Web å’Œç§»åŠ¨åº”ç”¨ç¨‹åºæä¾›å¼ºå¤§çš„åŠŸèƒ½
    
    koa æ˜¯ç”± Express åŸç­äººé©¬æ‰“é€ çš„ï¼Œè‡´åŠ›äºæˆä¸ºä¸€ä¸ªæ›´å°ã€æ›´å¯Œæœ‰è¡¨ç°åŠ›ã€æ›´å¥å£®çš„ Web æ¡†æ¶ã€‚ä½¿ç”¨ koa ç¼–å†™ web åº”ç”¨ï¼Œé€šè¿‡ç»„åˆä¸åŒçš„ generatorï¼Œå¯ä»¥å…é™¤é‡å¤ç¹ççš„å›è°ƒå‡½æ•°åµŒå¥—ï¼Œå¹¶æå¤§åœ°æå‡é”™è¯¯å¤„ç†çš„æ•ˆç‡ã€‚koa ä¸åœ¨å†…æ ¸æ–¹æ³•ä¸­ç»‘å®šä»»ä½•ä¸­é—´ä»¶ï¼Œå®ƒä»…ä»…æä¾›äº†ä¸€ä¸ªè½»é‡ä¼˜é›…çš„å‡½æ•°åº“ï¼Œä½¿å¾—ç¼–å†™ Web åº”ç”¨å˜å¾—å¾—å¿ƒåº”æ‰‹
    
    nest æ˜¯ä¸€ä¸ªå°è£…äº†nodeçš„æœ‰è§„èŒƒçš„æ¡†æ¶ï¼Œä»€ä¹ˆæ˜¯æœ‰è§„èŒƒï¼Ÿæ„æ€æ˜¯å¿…é¡»æŒ‰ç…§å®ƒåˆ¶å®šçš„ä¸€å¥—è§„åˆ™æ¥å†™ä»£ç ï¼Œå¦åˆ™ç¨‹åºå°±ä¼šæ— æ³•è¿è¡Œã€‚ä¸Šæ‰‹æˆæœ¬ç¨é«˜ä¸€ç‚¹ï¼Œä½†æ˜¯åæœŸç»´æŠ¤ä¸æ‰©å±•ä¼šå¾ˆæ–¹ä¾¿ï¼Œnestå±äºå‰ç«¯tså¤§è¶‹åŠ¿ä¸‹æ·±åº¦ä½¿ç”¨æ³¨è§£ç‰¹æ€§å¹¶æä¾›å„ç§å¢å¼ºå¼€å‘ä½“éªŒçš„æ¡†æ¶ï¼Œå®ƒæä¾›äº†ä¸€å¥—å®Œæ•´çš„è§£å†³æ–¹æ¡ˆï¼ŒåŒ…å«äº†è®¤è¯ã€æ•°æ®åº“ã€è·¯ç”±ã€httpçŠ¶æ€ç ã€å®‰å…¨ã€é…ç½®ã€è¯·æ±‚ç­‰å¼€ç®±å³ç”¨çš„æŠ€æœ¯
    
- MongoDB & Mongoose
    
    [https://blog.csdn.net/weixin_38601104/article/details/88367741](https://blog.csdn.net/weixin_38601104/article/details/88367741)
    
    [https://blog.csdn.net/qq_38721111/article/details/111074981](https://blog.csdn.net/qq_38721111/article/details/111074981)
    
    **Mongoose**
    
    å®ƒä¹Ÿæ˜¯é’ˆå¯¹ mongoDB æ“ä½œçš„ä¸€ä¸ªå¯¹è±¡æ¨¡å‹åº“ï¼Œå°è£…äº† mongoDB å¯¹æ–‡æ¡£çš„ä¸€äº›å¢åˆ æ”¹æŸ¥ç­‰å¸¸ç”¨æ–¹æ³•ï¼Œè®© nodejs æ“ä½œ mongoDB æ•°æ®åº“å˜å¾—æ›´åŠ å®¹æ˜“
    
    **MongoDB** **ä¸»è¦ç‰¹å¾ï¼š**
    
    - **NoSqlæ•°æ®åº“**ï¼šä¸ä¸€äº›å…³ç³»å‹æ•°æ®åº“ç›¸æ¯”ï¼Œå®ƒæ›´æ˜¾å¾—è½»å·§ã€çµæ´»ï¼Œç¼ºç‚¹æ˜¯ä¸æ”¯æŒäº‹åŠ¡ã€‚éå¸¸é€‚åˆåœ¨æ•°æ®è§„æ¨¡å¾ˆå¤§ã€äº‹åŠ¡æ€§ä¸å¼ºçš„åœºåˆä¸‹ä½¿ç”¨
    åœ¨ sql ä¸­ï¼Œæˆ‘ä»¬çš„æ•°æ®å±‚çº§æ˜¯ï¼šæ•°æ®åº“ï¼ˆdbï¼‰-> è¡¨ï¼ˆtableï¼‰-> è®°å½•ï¼ˆrecordï¼‰-> å­—æ®µã€‚åœ¨ mongodb ä¸­ï¼Œæ•°æ®çš„å±‚çº§æ˜¯ï¼šæ•°æ®åº“ -> é›†åˆï¼ˆcollectionï¼‰-> æ–‡æ¡£ï¼ˆdocumentï¼‰-> å­—æ®µï¼Œè¿™å››ä¸ªæ¦‚å¿µå¯ä»¥å¯¹åº”å¾—ä¸Š
    - **é¢å‘æ–‡æ¡£å­˜å‚¨çš„æ•°æ®åº“**ï¼šæ“ä½œèµ·æ¥æ¯”è¾ƒç®€å•å’Œå®¹æ˜“ã€‚å°†æ•°æ®å­˜å‚¨ä¸ºä¸€ä¸ªæ–‡æ¡£ï¼Œæ•°æ®ç»“æ„ç”±é”®å€¼å¯¹ç»„æˆã€‚è¿™ä¸ªæ–‡æ¡£å°±æ˜¯ bson æ ¼å¼ï¼Œbson æ˜¯ json çš„è¶…é›†ï¼Œæ¯”å¦‚ json ä¸­æ²¡æ³•å‚¨å­˜äºŒè¿›åˆ¶ç±»å‹ï¼Œè€Œ bson æ‹“å±•äº†ç±»å‹ï¼Œæä¾›äº†äºŒè¿›åˆ¶æ”¯æŒ
    - MongoDB å…è®¸åœ¨æœåŠ¡ç«¯æ‰§è¡Œè„šæœ¬ï¼Œå¯ä»¥ç”¨Javascriptç¼–å†™æŸä¸ªå‡½æ•°ï¼Œç›´æ¥åœ¨æœåŠ¡ç«¯æ‰§è¡Œï¼Œä¹Ÿå¯ä»¥æŠŠå‡½æ•°çš„å®šä¹‰å­˜å‚¨åœ¨æœåŠ¡ç«¯ï¼Œä¸‹æ¬¡ç›´æ¥è°ƒç”¨å³å¯
    - **åˆ†å¸ƒå¼æ–‡ä»¶å­˜å‚¨**ï¼šåœ¨é«˜è´Ÿè½½çš„æƒ…å†µä¸‹ï¼Œæ·»åŠ æ›´å¤šçš„èŠ‚ç‚¹ï¼Œå¯ä»¥ä¿è¯æœåŠ¡å™¨æ€§èƒ½ï¼Œä¿è¯æµ·é‡æ•°æ®å­˜å‚¨çš„åŒæ—¶ï¼Œå…·æœ‰è‰¯å¥½çš„æŸ¥è¯¢æ€§èƒ½
    - **åˆ†ç‰‡æŠ€æœ¯**ï¼šMongoDB ä½¿ç”¨åˆ†ç‰‡æŠ€æœ¯å¯¹æ•°æ®è¿›è¡Œæ‰©å±•ï¼ŒMongoDBèƒ½è‡ªåŠ¨åˆ†ç‰‡ã€è‡ªåŠ¨è½¬ç§»åˆ†ç‰‡é‡Œé¢çš„æ•°æ®å—ï¼Œå»æ‰äº†å…³ç³»å‹æ•°æ®åº“çš„å…³ç³»å‹ç‰¹æ€§ï¼Œæ•°æ®ä¹‹é—´æ²¡æœ‰å…³ç³»ã€‚è®©æ¯ä¸€ä¸ªæœåŠ¡å™¨é‡Œé¢å­˜å‚¨çš„æ•°æ®éƒ½æ˜¯ä¸€æ ·å¤§å°ã€‚è¿™æ ·å°±éå¸¸å®¹æ˜“æ‰©å±•
    - **å†…åµŒæ•°æ®åº“**ï¼šè¡¨ä¸è¡¨ä¹‹é—´æ²¡æœ‰è”ç³»ï¼Œå¥½å¤„å°±æ˜¯æŸ¥å…³è”æ•°æ®çš„æ—¶å€™æ¯”è¾ƒæ–¹ä¾¿ï¼Œåå¤„å°±æ˜¯æ•°æ®å¯èƒ½ä¸ç»Ÿä¸€ï¼Œä¸åƒ sql ä¸­ä¸€æ ·ï¼Œå¯ä»¥è®¾å®šå¤–é”®ï¼Œå¯ä»¥è¿›è¡Œè¡¨è¿æ¥
    
    **å’Œå…¶ä»– nosql æ•°æ®åº“çš„å¯¹æ¯”ï¼š**
    
    hbase ã€redis ã€mongodb è™½ç„¶éƒ½å±äº nosql çš„å¤§èŒƒç•´ã€‚ä½†å®ƒä»¬å…³æ³¨çš„é¢†åŸŸæ˜¯ä¸ä¸€æ ·çš„ã€‚hbase æ˜¯å­˜æµ·é‡æ•°æ®çš„ï¼Œredis ç”¨æ¥åšç¼“å­˜ï¼Œè€Œ mongodb åˆ™è¯•å›¾å–ä»£ä¸€äº›ä½¿ç”¨ mysql çš„åœºæ™¯
    
- MongoDB çš„æ“ä½œ
    
    [MongoDB ç´¢å¼• | èœé¸Ÿæ•™ç¨‹ (runoob.com)](https://www.runoob.com/mongodb/mongodb-indexing.html)
    
    ```jsx
    æ˜¾ç¤ºæ‰€æœ‰æ•°æ®åº“
    show databases
    
    åˆ›å»ºæ•°æ®åº“ 
    use Products
    
    æŸ¥çœ‹æ•°æ®åº“ 
    db
    
    æ˜¾ç¤ºæ‰€æœ‰é›†åˆ 
    show collections
    
    åˆ›å»ºé›†åˆ æ’å…¥æ–‡æ¡£æ•°æ®
    1. æ’å…¥æ–‡æ¡£æ•°æ®æ—¶åˆ›å»º 
    db.Name.insert(doc)
    2. ç›´æ¥åˆ›å»º 
    db.createCollection('æ–°å»ºé›†åˆå')
    
    æ’å…¥æ–‡æ¡£æ•°æ® 
    db.Name.insert(doc) 
    db.users.insert({name:'jack',age:18})
    
    æŸ¥çœ‹æ‰€æœ‰æ•°æ® 
    db.users.find() 
    
    æŸ¥çœ‹nameæ˜¯jackçš„æ•°æ® 
    db.users.find({name:'jack'})
    
    ä¿®æ”¹æ•°æ® 
    db.users.update({name:'jack'},{$set:{age:28}})
    
    åˆ é™¤æ–‡æ¡£æ•°æ® 
    db.users.remove({name:'jack'})
    
    åˆ é™¤é›†åˆ 
    db.users.drop()
    
    åˆ é™¤æ•°æ®åº“ 
    db.dropDatabase()
    ```
    
    ç´¢å¼•
    
    ```jsx
    1ã€æŸ¥çœ‹é›†åˆç´¢å¼•
    db.col.getIndexes()
    
    2ã€æŸ¥çœ‹é›†åˆç´¢å¼•å¤§å°
    db.col.totalIndexSize()
    
    3ã€åˆ é™¤é›†åˆæ‰€æœ‰ç´¢å¼•
    db.col.dropIndexes()
    
    4ã€åˆ é™¤é›†åˆæŒ‡å®šç´¢å¼•
    db.col.dropIndex("ç´¢å¼•åç§°")
    
    5ã€åˆ›å»ºç´¢å¼•
    db.col.createIndex({"title":1,"description":-1})
    ```
    
- Mongoose çš„æ“ä½œ
    1. å¯¼å‡º
    2. åˆ›å»º schemaï¼š
        
        Schema æ˜¯ mongoose é‡Œä¼šç”¨åˆ°çš„ä¸€ç§æ•°æ®æ¨¡å¼ï¼Œæ˜¯å¯¹ ducument ç»“æ„çš„å®šä¹‰ï¼Œæ¯ä¸ª schema ä¼šæ˜ å°„åˆ° mongodb ä¸­çš„ä¸€ä¸ª collectionï¼Œå®ƒä¸å…·å¤‡æ“ä½œæ•°æ®åº“çš„èƒ½åŠ›ï¼Œä»…ä»…åªæ˜¯å®šä¹‰æ•°æ®åº“æ¨¡å‹
        
    3. åˆ›å»º modelï¼š
        
        modelæ˜¯ç”±schemaç”Ÿæˆçš„æ¨¡å‹ï¼Œå¯ä»¥å¯¹æ•°æ®åº“çš„æ“ä½œ
        
    4. è¿›è¡Œå¢åˆ æŸ¥æ”¹çš„æ“ä½œ
    
    ```jsx
    1. const mongoose = require("mongoose");å¯¼å…¥mongooseæ¨¡å—
    
    2. è¿æ¥æ•°æ®åº“ // æ³¨æ„urlåœ°å€æœ€åé¢çš„åœ°å€æ˜¯æ•°æ®åº“çš„åç§°
        const url = "mongodb://127.0.0.1:27017/bk1824";
    
            mongoose.connect(url,(err)=>{
                    if(err){
                        console.log("é“¾æ¥å¤±è´¥")
                    }else{
                        console.log("é“¾æ¥æˆåŠŸ")
                    }
            })
    
    2. åˆ›å»ºæ–‡æ¡£ç»“æ„schema
            const UserSchema = new db.Schema({ 
                username: String,
                password: String,
                nick: String,
                headerimg: String,
            })
    
    3. åˆ›å»º model
    const userModel = new db.model('user', UserSchema, 'user')  
    
    5.æ·»åŠ æ•°æ®
            const { username, password, nick } = req.body // æ¥æ”¶å‚æ•°
            let user = new UserModel({
                username,
                password,
                nick,
                headerimg,
            })
            
    6. å°†å¢åŠ çš„æ•°æ®å­˜å…¥æ•°æ®åº“çš„è¡¨ä¸­
        user.save() // ä¿å­˜æ•°æ®åˆ°db
    
    7. åˆ é™¤æ•°æ®
            User.remove({username:"zhao1234"})
    
    8. æ”¹æ•°æ®
            User.update({username:"1111"},{$set:{username:"zhao"}})
    
    9.. æŸ¥æ•°æ®
            const { username, password } = req.body
            let data = await UserModel.find({username,password})
    ```
    
- Redux çš„å®ç°
    
    å¯ä»¥ç†è§£ä¸ºæŠŠéœ€è¦å¤šä¸ªç»„ä»¶å…±äº«çš„å˜é‡å…¨éƒ¨å­˜å‚¨åœ¨ä¸€ä¸ªå¯¹è±¡é‡Œé¢ï¼ŒæŠŠè¿™ä¸ªå¯¹è±¡æ”¾åœ¨é¡¶å±‚çš„ react å®ä¾‹å½“ä¸­ï¼Œè®©å…¶ä»–ç»„ä»¶å¯ä»¥ä½¿ç”¨
    
    **ä½¿ç”¨æƒ…æ™¯ï¼š**
    
    - å¤§å‹å¼€å‘ï¼Œå¤šä¸ªç•Œé¢é—´çš„å…±äº«é—®é¢˜
    - æ¯”å¦‚ç”¨æˆ·çš„ç™»å½•çŠ¶æ€ã€æ‹¿åˆ°å’Œä¿å­˜ tokenã€ç”¨æˆ·åç§°ã€å¤´åƒã€åœ°ç†ä½ç½®ä¿¡æ¯ç­‰ç­‰
    - æ¯”å¦‚å•†å“çš„æ”¶è—ã€è´­ç‰©è½¦ä¸­çš„ç‰©å“ï¼ˆåœ¨å¾ˆå¤šé¡µé¢éƒ½æœ‰æ·»åŠ è´­ç‰©è½¦çš„åŠŸèƒ½ï¼‰
    - è¿™äº›çŠ¶æ€ä¿¡æ¯ï¼Œæˆ‘ä»¬éƒ½å¯ä»¥æ”¾åœ¨ç»Ÿä¸€çš„åœ°æ–¹ï¼Œå¯¹å®ƒè¿›è¡Œä¿å­˜å’Œç®¡ç†ï¼Œè€Œä¸”å®ƒä»¬è¿˜æ˜¯å“åº”å¼çš„
    
    **å®ç°æ–¹æ³•ï¼š**
    
    é¡¶å±‚å¥—ä¸€ä¸ª providerï¼Œåº•å±‚çš„ç»„ä»¶éƒ½å¯ä»¥ä½¿ç”¨é¡¶å±‚çš„æ•°æ®
    
    1. é¦–å…ˆï¼Œç”¨æˆ·ï¼ˆé€šè¿‡Viewï¼‰å‘å‡º Actionï¼Œå‘å‡ºæ–¹å¼å°±ç”¨åˆ°äº† dispatch æ–¹æ³•ã€‚
    2. ç„¶åï¼ŒStore è‡ªåŠ¨è°ƒç”¨ Reducerï¼Œå¹¶ä¸”ä¼ å…¥ä¸¤ä¸ªå‚æ•°ï¼šå½“å‰ State å’Œæ”¶åˆ°çš„ Actionï¼ŒReducer ä¼šè¿”å›æ–°çš„ State
    3. State ä¸€æ—¦æœ‰å˜åŒ–ï¼ŒStore å°±ä¼šè°ƒç”¨ç›‘å¬å‡½æ•°ï¼Œæ¥æ›´æ–° View
    
    Product reducer
    
    ![Untitled](Untitled%201.png)
    
    Product Actions
    
    ![Untitled](Untitled%202.png)
    
    User Reducer
    
    ![Untitled](Untitled%203.png)
    
    User Actions
    
    ![Untitled](Untitled%204.png)
    
- ä¸­é—´ä»¶ middleware çš„ä½¿ç”¨
    
    ä¸­é—´ä»¶å°±æ˜¯å¤„ç† HTTP è¯·æ±‚çš„å‡½æ•°ã€‚å®ƒæœ€å¤§çš„ç‰¹ç‚¹å°±æ˜¯ï¼Œä¸€ä¸ªä¸­é—´ä»¶å¤„ç†å®Œï¼Œå†ä¼ é€’ç»™ä¸‹ä¸€ä¸ªä¸­é—´ä»¶
    
    æ¯ä¸ªä¸­é—´ä»¶å¯ä»¥ä» App å®ä¾‹é‡Œæ¥æ”¶ä¸‰ä¸ªå‚æ•°ï¼Œä¾æ¬¡ä¸º request å¯¹è±¡ï¼ˆHTTP è¯·æ±‚ï¼‰ã€response å¯¹è±¡ï¼ˆHTTP å›åº”ï¼‰ï¼Œnext() å›è°ƒå‡½æ•°ï¼ˆä¸‹ä¸€ä¸ªä¸­é—´ä»¶ï¼‰ã€‚æ¯ä¸ªä¸­é—´ä»¶éƒ½å¯ä»¥å¯¹ HTTP è¯·æ±‚ï¼ˆrequest å¯¹è±¡ï¼‰è¿›è¡ŒåŠ å·¥ï¼Œå¹¶ä¸”å†³å®šæ˜¯å¦è°ƒç”¨ next() æ–¹æ³•ï¼Œå°† request å¯¹è±¡å†ä¼ ç»™ä¸‹ä¸€ä¸ªä¸­é—´ä»¶
    
    **anthMiddleware.js**
    
    1. ä» header é‡Œé¢çš„ authorization å¤´é‡Œé¢çš„ä¿¡æ¯æ‹¿åˆ° token
    2. é€šè¿‡ jwt.decode(token,secret)ï¼Œæ¥è§£æ tokenï¼Œè§£æå‡ºæ¥çš„ä¿¡æ¯æ‰“å°å‡ºæ¥å°±æ˜¯ä¸‹é¢çš„ jsonï¼Œäºæ˜¯å°±å¯ä»¥æ‹¿åˆ° id
        
        ```jsx
        {
            id: '5f6bf78dqi0w',
            iat: 1600978514,
            exp: 1600978514
        }
        ```
        
    3. é€šè¿‡ id æŸ¥æ‰¾ç”¨æˆ·ï¼Œè¿”å›é™¤äº†å¯†ç ä»¥å¤–çš„ä¿¡æ¯
- location å’Œ history çš„ä½¿ç”¨
    
    åœ¨ react ç»„ä»¶çš„ componentDidMount æ–¹æ³•ä¸­æ‰“å°ä¸€ä¸‹ this.propsï¼Œåœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­æŸ¥çœ‹è¾“å‡ºå¦‚ä¸‹ï¼Œå…¶ä¸­é¡µé¢çš„ url ä¿¡æ¯å…¨éƒ½åŒ…å«åœ¨ match å­—æ®µä¸­
    
    ```jsx
    localhost:3000/app/knowledgeManagement/modify
    /STY20171011124209535/3/1507701970070/0/?s=1&f=7
    ```
    
    ![Untitled](Untitled%205.png)
    
    ![Untitled](Untitled%206.png)
    
    - **matchï¼š**åŒ…å«äº†å…·ä½“çš„ url ä¿¡æ¯ï¼Œåœ¨ params å­—æ®µä¸­å¯ä»¥è·å–åˆ°å„ä¸ªè·¯ç”±å‚æ•°çš„å€¼
    - **historyï¼š**åŒ…å«äº†ç»„ä»¶å¯ä»¥ä½¿ç”¨çš„å„ç§è·¯ç”±ç³»ç»Ÿçš„æ–¹æ³•ï¼Œå¸¸ç”¨çš„æœ‰ push å’Œ replaceï¼Œä¸¤è€…éƒ½æ˜¯è·³è½¬é¡µé¢ï¼Œä½†æ˜¯ replace ä¸ä¼šå¼•èµ·é¡µé¢çš„åˆ·æ–°ï¼Œä»…ä»…æ˜¯æ”¹å˜ url
    - **locationï¼š**ç›¸å½“äº URL çš„å¯¹è±¡å½¢å¼è¡¨ç¤ºï¼Œé€šè¿‡ search å­—æ®µå¯ä»¥è·å–åˆ° url ä¸­çš„ query ä¿¡æ¯ï¼Œæ‰€ä»¥location.search æ˜¯è·å– url å‚æ•°çš„æ–¹æ³•
    è¿™é‡Œ state çš„å«ä¹‰ä¸ HTML5 history.pushState API ä¸­çš„ state å¯¹è±¡ä¸€æ ·ã€‚æ¯ä¸ª URL éƒ½ä¼šå¯¹åº”ä¸€ä¸ª state å¯¹è±¡ï¼Œä½ å¯ä»¥åœ¨å¯¹è±¡é‡Œå­˜å‚¨æ•°æ®ï¼Œä½†è¿™ä¸ªæ•°æ®å´ä¸ä¼šå‡ºç°åœ¨ URL ä¸­ã€‚å®é™…ä¸Šï¼Œæ•°æ®è¢«å­˜åœ¨äº† sessionStorage ä¸­
    
- èº«ä»½è®¤è¯çš„å®ç°
    
    åˆ†æˆä¸¤ä¸ªæ–¹é¢å§ï¼Œä¸€ä¸ªæ˜¯èº«ä»½è®¤è¯ï¼Œä¸€ä¸ªæ˜¯æˆæƒï¼ŒAuthentication å’Œ Authorization
    
    **è®¤è¯**(Authentication)ï¼Œæˆ‘ä»¬æ¥å—ç”µå­é‚®ä»¶å’Œå¯†ç ï¼Œåœ¨æ•°æ®åº“ä¸­å¯¹å…¶è¿›è¡Œè®¤è¯ï¼Œè¯æ˜æ˜¯è¿™ä¸ªç”¨æˆ·æœ¬äººã€‚**æˆæƒ**(Authorization)ï¼Œæ˜¯è®©è¿™ä¸ªç”¨æˆ·æœ‰æƒé™è®¿é—®æŸäº›ä¿¡æ¯ï¼Œæˆ–è€…ä½¿ç”¨å—åˆ°ä¿æŠ¤çš„ API çš„æƒé™ï¼Œè¿™ä¸ªé€šè¿‡å‘é€ Json Web Tokenæ¥åšåˆ°è¿™ä¸€ç‚¹
    
    **æ™®é€šç”¨æˆ·è®¤è¯ï¼š**
    
    (1) ä¸ºäº†å¯†ç çš„å®‰å…¨ï¼Œæˆ‘ä½¿ç”¨äº† bcrypt è¿™ä¸ªåŒ…ï¼Œæ³¨å†Œçš„æ—¶å€™é€šè¿‡ bcrypt.hash æŠŠå¯†ç ä¿å­˜åœ¨æ•°æ®åº“é‡Œï¼Œåœ¨ç™»å½•çš„æ—¶å€™ç”¨ bcrypt.compare çš„æ–¹æ³•æ¥æ¯”è¾ƒè¾“å…¥çš„è¿™ä¸ªæ–‡æœ¬å­—ç¬¦ä¸²å’Œæ•°æ®åº“ä¸­åŠ å¯†è¿‡çš„å¯†ç æ˜¯ä¸æ˜¯ä¸€æ ·çš„
    
    (2) ç™»å½•çš„æ—¶å€™ï¼Œä¼šä½¿ç”¨ authUser è¿™ä¸ªæ¥å£ï¼Œåœ¨è¿™ä¸ªæ¥å£é‡Œé¢ï¼Œå¦‚æœåŒ¹é…æˆåŠŸäº†ï¼Œè¿”å› userInfoï¼Œå­˜å‚¨åœ¨ redux çš„ store é‡Œé¢ï¼Œæ˜¯ä¸€ä¸ªå…¨å±€çš„çŠ¶æ€ (å°† userInfo å­˜è¿› localstorage é‡Œé¢å»)
    
    (3) å‰ç«¯çš„å¤„ç†å°±æ˜¯åœ¨ç™»å½•é¡µé¢ï¼ŒæŠŠ userInfo æ³¨å†Œåœ¨ useEffect è¿™ä¸ª hook é‡Œé¢éšæ—¶æ£€æµ‹æ›´æ–°ï¼Œå¦‚æœæ”¶åˆ°æœ‰è¿”å›çš„ç”¨æˆ·ä¿¡æ¯äº†ï¼Œå°±è·³è½¬åˆ°é¦–é¡µ
    
    **æˆæƒï¼š**
    
    (1) åç«¯ï¼Œåœ¨ç™»å½•çš„æ—¶å€™ï¼Œå¼•å…¥äº† jsonwebtoken çš„åº“ï¼Œä¸‹è½½Opensslï¼Œä¸‹è½½åç”Ÿæˆç§é’¥ã€‚ä½¿ç”¨ jwt.sign çš„æ–¹æ³•é€šè¿‡ä¸€äº›ç”¨æˆ·ä¿¡æ¯å’Œç§é’¥ç”Ÿæˆä¸€ä¸ª token(RS256 åŠ å¯†ç®—æ³•)ï¼Œé‚£è¿™ä¸ª token æ”¾åœ¨å“ªä¸ªä½ç½®å‘¢ï¼Œå°±æ˜¯ç”¨æˆ·èº«ä»½è®¤è¯æˆåŠŸä¹‹åè¿”å›çš„ user ä¿¡æ¯é‡Œçš„é‚£ä¸ª json æ–‡ä»¶é‡Œã€‚äºæ˜¯åœ¨ç”¨æˆ·æˆåŠŸç™»å½•ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥åœ¨ä¿å­˜åœ¨ redux é‡Œé¢çš„ userInfo è¿™ä¸ªå¯¹è±¡é‡Œé¢å¾—åˆ°äº† token
    
    (2) å‰ç«¯ï¼Œåœ¨éœ€è¦è°ƒç”¨ä¸€äº›å—åˆ°ä¿æŠ¤çš„ api çš„æ—¶å€™ï¼Œå‰ç«¯ä¼šä½¿ç”¨ getState() çš„æ–¹æ³•ä» redux é‡Œé¢æ‹¿åˆ°è¿™ä¸ª tokenï¼Œç„¶åå°è£…åœ¨ header çš„ Authorization å¤´éƒ¨ï¼Œå†å¯¹è¿™ä¸ªæ¥å£å‘èµ· http è¯·æ±‚
    
    ![Untitled](Untitled%207.png)
    
    **Admin æƒé™çš„è®¤è¯ï¼š**
    
    æ·»åŠ äº†ä¸€ä¸ª authAdmin çš„ä¸­é—´ä»¶ï¼Œå°±æ˜¯åˆ¤æ–­ä¸€ä¸‹
    
    ![Untitled](Untitled%208.png)
    
    åœ¨ userRoutes.js é‡Œé¢æ³¨å†Œè¿™ä¸ª api çš„æ—¶å€™ï¼Œæ‰§è¡Œå‡½æ•°å‰é¢è¦åŠ ä¸Š protect å’Œ admin ä¸¤ä¸ªä¸­é—´ä»¶ï¼Œadmin æ”¾åœ¨ protect ä¸­é—´ä»¶åé¢ï¼Œå°±è¡¨ç¤ºé¦–å…ˆç™»å½•ï¼Œå†éªŒè¯æ˜¯å¦æœ‰ admin çš„æƒé™ï¼Œåªæœ‰éƒ½æ»¡è¶³ï¼Œæ‰èƒ½è°ƒç”¨è¿™ä¸ª api
    
    ![Untitled](Untitled%209.png)
    
- æ”¯ä»˜å® api
    
    [(225æ¡æ¶ˆæ¯) Node.jsæ¥å…¥æ”¯ä»˜å®ï¼ˆèš‚èšé‡‘æœï¼‰æ”¯ä»˜_njç‰©æ˜¯äººéçš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/njweiyukun/article/details/79478455?spm=1001.2101.3001.6650.17&utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-17-79478455-blog-113250029.pc_relevant_default&depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7ERate-17-79478455-blog-113250029.pc_relevant_default&utm_relevant_index=18)
    
    [NodeJS æ”¯ä»˜å®ç½‘ç«™æ”¯ä»˜ Demo å¼€å‘ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/6844903984478552078)
    
    å‰ç«¯é¡µé¢ -> å‘æœåŠ¡ç«¯å‘é€è®¢å•ä¿¡æ¯ -> æœåŠ¡ç«¯ç¡®è®¤ä¿¡æ¯ï¼Œå‘å®¢æˆ·ç«¯å‘é€ç¡®è®¤ä¿¡æ¯ -> å®¢æˆ·ç«¯ç¡®è®¤ä¿¡æ¯å‘æœåŠ¡ç«¯å‘é€è®¢å•è¯·æ±‚ -> æœåŠ¡ç«¯éªŒè¯è®¢å•è¯·æ±‚ä¿¡æ¯ -> æœåŠ¡ç«¯åƒæ”¯ä»˜å®å‘é€è®¢å•ç”Ÿæˆ -> æ”¯ä»˜å®å‘æœåŠ¡ç«¯è¿”å›è®¢å•æ•°æ® -> æœåŠ¡ç«¯å‘å®¢æˆ·ç«¯å‘é€æ”¯ä»˜å®çš„è¡¨å•ä¿¡æ¯ -> å®¢æˆ·ç«¯è·³è½¬åˆ°æ”¯ä»˜å®æ”¯ä»˜é¡µé¢ -> å®¢æˆ·ç«¯æ”¯ä»˜æˆåŠŸ -> æ”¯ä»˜å®è®©å®¢æˆ·ç«¯åŒæ­¥è·³è½¬åˆ°æœåŠ¡ç«¯æŒ‡å®šçš„é¡µé¢ -> æ”¯ä»˜å®å¼‚æ­¥é€šçŸ¥æœåŠ¡ç«¯è®¢å•æ”¯ä»˜ç»“æœ -> æœåŠ¡ç«¯æ¥æ”¶å¼‚æ­¥é€šçŸ¥åšç›¸åº”çš„ä¸šåŠ¡å¤„ç†
    
    ![Untitled](Untitled%2010.png)
    
- å‰ç«¯çš„æ€§èƒ½ä¼˜åŒ–
    
    ![Untitled](Untitled.png)
    
- å•†å“æ¨¡ç³Šæœç´¢çš„å®ç°
    
    æ­£åˆ™è¡¨è¾¾å¼æ˜¯ä½¿ç”¨å‡ ä¸ªç®€å•çš„å­—ç¬¦ä¸²æ¥æè¿°å’ŒåŒ¹é…ä¸€ç³»åˆ—ç¬¦åˆæŸä¸ªå¥æ³•è§„åˆ™çš„å­—ç¬¦ä¸²
    
    MongoDB ä½¿ç”¨ $regex æ“ä½œç¬¦æ¥è®¾ç½®åŒ¹é…å­—ç¬¦ä¸²çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œæ¯”å¦‚æœç´¢ iph å°±å¯ä»¥æœåˆ° iphoneï¼Œæœ ar å°±å¯ä»¥æœåˆ° airpordsï¼Œè®¾ç½® $option = â€œ$iâ€ï¼Œå°±å¯ä»¥ä¸åŒºåˆ†å¤§å°å†™
    
    ![Untitled](Untitled%2011.png)
    
- TOP3 çš„å®ç°
    
    Product.find({}).sort({rating:-1}).limit(3)
    
- Admin åå°ç®¡ç†æ€ä¹ˆå®ç°
- éƒ¨ç½²åœ¨ horuku ä¸Šé¢å…·ä½“å®ç°
    
    *Heroku* æ˜¯ä¸€ä¸ªæ”¯æŒå¤šç§ç¼–ç¨‹è¯­è¨€çš„äº‘å¹³å°
    
    > ä¸ºä»€ä¹ˆè¦ç”¨äº‘å¹³å°ï¼Ÿ
    > 
    > 
    > â€”â€”äº‘å¹³å°ä¸ç”¨ç§ŸåŸŸåä¸ç”¨ç§ŸæœåŠ¡å™¨ä¸ç”¨å¤‡æ¡ˆä¸ç”¨è‡ªå·±æ‰‹åŠ¨é…ç½®å„ç§è½¯ä»¶ï¼Œè€Œä¸”æ˜¯å…è´¹çš„ã€‚
    > 
    
    > äº‘å¹³å°æœ‰ä»€ä¹ˆç¼ºç‚¹ï¼Ÿ
    > 
    > 
    > ç¼ºç‚¹å°±æ˜¯æµé‡é™åˆ¶ä¸€èˆ¬æ¯”è¾ƒä¸¥ï¼Œæ€§èƒ½ç›¸å¯¹è¾ƒå·®ã€‚ä½†æ˜¯å°±æˆ‘è‡ªå·±çš„å®é™…ä½¿ç”¨ç»éªŒæ¥çœ‹ï¼Œä¸€èˆ¬çš„å°ç«™æˆ–è€…ä¸ªäººåšå®¢æ”¾åœ¨äº‘å¹³å°ä¸Šæ˜¯å®Œå…¨å¤Ÿç”¨çš„ã€‚å¹¶ä¸”äº‘å¹³å°ä¼šæä¾›æ— ç¼æ‰©å±•çš„æœåŠ¡ï¼Œå¦‚æœéœ€è¦æ›´é«˜æ€§èƒ½æˆ–è€…æ›´å¤šæµé‡å¯ä»¥èŠ±é’±æ‰©å±•ã€‚è¿˜æœ‰ä¸€ç‚¹å°±æ˜¯äº‘å¹³å°çš„åŸŸåæ˜¯äºŒçº§åŸŸåï¼Œå¦‚æœæ‚¨æƒ³ä½¿ç”¨è‡ªå·±çš„åŸŸåçš„è¯ï¼Œå¯ä»¥é€šè¿‡aliasåˆ«åè®¾ç½®ã€‚
    > 
    
    > ä¸ºä»€ä¹ˆè¦ç”¨å›½å¤–çš„äº‘å¹³å°ï¼Ÿ
    > 
    > 
    > å›½å†…çš„äº‘å¹³å°æˆ‘ä¸ªäººæ€»ç»“æœ‰ä¸¤å¤§ç¼ºç‚¹ï¼š1ã€æ–‡æ¡£ä¸å®Œå–„ï¼Œ2ã€é™åˆ¶è¾ƒå¤š
    > 
    > æ–‡æ¡£ä¸å®Œå–„å°±å¯¼è‡´äº†æ–°æ‰‹å¾ˆéš¾å…¥é—¨ï¼Œå¾€å¾€ä¼šé‡åˆ°å„ç§å„æ ·çš„é—®é¢˜éš¾ä»¥è§£å†³ã€‚å›½å¤–çš„äº‘å¹³å°æ–‡æ¡£éå¸¸å®Œå–„ï¼Œå¹¶ä¸”æœ‰å¾ˆå¤šç¤ºä¾‹ï¼Œåªè¦ä½ æ‡‚ä¸€äº›åŸºæœ¬çš„è‹±æ–‡å°±å¯ä»¥è½»æ¾æå®šã€‚é™åˆ¶è¾ƒå¤šä¸»è¦ä½“ç°åœ¨å¼€å‘è€…è®¤è¯ä»¥åŠå¼€å‘ç¯å¢ƒè¿™ä¸¤æ–¹é¢ã€‚æ–°æµªäº‘å’Œç™¾åº¦äº‘éƒ½éœ€è¦ç”³è¯·å¼€å‘è€…è®¤è¯ï¼Œæˆ‘è‡ªå·±æ˜¯å¾ˆè®¨åŒè¿™ç§æ–¹å¼çš„ã€‚å¼€å‘ç¯å¢ƒé™åˆ¶å°±æ˜¯ç‰ˆæœ¬æ—§ï¼Œè‡ªç”±åº¦ä½ã€‚
    > 
    
    > ä¸ºä»€ä¹ˆè¦ç”¨herokuï¼Ÿ
    > 
    > 
    > å›½å¤–çš„äº‘å¹³å°ï¼Œæˆ‘è‡ªå·±ä¹Ÿè¯•ç”¨è¿‡å‡ ä¸ªã€‚å› ä¸ºå›½å¤–çš„äº‘å¹³å°æ–‡æ¡£å¤§å¤šå¾ˆå®Œå–„ï¼Œæ‰€ä»¥ä¸å­˜åœ¨ä½¿ç”¨éšœç¢ï¼Œé€‰æ‹©çš„æ ‡å‡†å°±å˜æˆäº†é€‚ä¸é€‚åˆè‡ªå·±ã€‚å› ä¸ºæˆ‘ä½¿ç”¨çš„æ˜¯expressæ¡†æ¶ï¼Œæ‰€ä»¥å¯¹æ¯”ä¹‹ä¸‹å‘ç°herokuå¯¹JavaScriptçš„æ”¯æŒæ›´å¥½ï¼Œå¹¶ä¸”å®˜æ–¹å°±æœ‰éƒ¨ç½²JavaScriptçš„ç¤ºä¾‹ï¼Œæ‰€ä»¥é€‰æ‹©äº†herokuã€‚å®é™…åº”ç”¨ä¸­å‘ç°ç¡®å®å¾ˆä¸é”™
    > 
    
    > æ­¥éª¤ï¼Ÿ
    > 
    > 1. npm run build â†’ ç”Ÿæˆä¸€ä¸ªbuildåŒ…
    > 2. ä¸‹è½½ Heroku CLIï¼Œé€šè¿‡ heruko login è¿›è¡Œç™»å½•
    > 3. åˆ›å»ºä¸€ä¸ªæ–°é¡¹ç›® heroku create projnameï¼Œè¿™æ—¶å€™å°±ä¼šç”Ÿæˆä¸€ä¸ªä»¥ [https://projname.herukoapp.com](https://projname.herukoapp.com) çš„ç½‘å€ï¼Œç‚¹å¼€æ˜¯æ–°é¡¹ç›®çš„æ¬¢è¿é¡µé¢
    > 4. åˆ›å»º Procfile æ–‡ä»¶ï¼šHeroku éœ€è¦ä¸€ä¸ª Procfile æ‰èƒ½çŸ¥é“å¦‚ä½•è¿è¡Œåº”ç”¨ç¨‹åºï¼ŒProcfile æ˜¯ä¸€ä¸ªâ€œè¿›ç¨‹æ–‡ä»¶â€ï¼Œç”¨äºå‘Šè¯‰ Heroku è¿è¡Œå“ªä¸ªå‘½ä»¤æ¥ç®¡ç†ç»™å®šçš„è¿›ç¨‹ï¼Œæ¯”å¦‚å‘Šè¯‰ Heroku å¦‚ä½•åœ¨ Web ä¸Šå¯åŠ¨æœåŠ¡å™¨è¿›è¡Œç›‘å¬ï¼Œæ²¡æœ‰ Procfileï¼ŒHeroku å°±ä¸èƒ½è®©æœåŠ¡å™¨åœ¨çº¿
    > 5. ä½¿ç”¨ git add commit pushï¼Œæ·»åŠ å’Œæäº¤æ–‡ä»¶
    > 6. åœ¨ Heroku ç½‘ç«™çš„ setting é‡Œé…ç½® .env æ–‡ä»¶çš„å‚æ•°ï¼ŒåŒ…æ‹¬æ•°æ®åº“ã€jwt_secretï¼Œç«¯å£å·ç­‰ç­‰
    - æˆ‘åœ¨éƒ¨ç½²ä¸­å°±é‡åˆ°äº†æ‰“ä¸å¼€ç½‘ç«™çš„æƒ…å†µï¼Œé”™è¯¯æ—¥å¿—å¦‚ä¸‹ï¼Œç»æ’æŸ¥å‘ç°ä»£ç ä¸­æ‰“å¼€ç«¯å£çš„æ—¶å€™å†™æ­»äº†6789ï¼Œæ‰€ä»¥å¯¼è‡´æŠ¥é”™ï¼Œherokuæ¨èç”¨$portçš„æ–¹å¼ç»‘å®šç«¯å£ï¼Œè€Œä¸æ˜¯å†™æ­»æŸä¸€ä¸ªç«¯å£
    - heroku buildpacks:set heroku/python #æ˜¾ç¤ºæŒ‡å®šç”¨pythonæ¥æ„å»ºæ‰“åŒ…ï¼Œè¿™ä¸ªéå¸¸é‡è¦ï¼Œæ²¡æœ‰è¿™å¥ä¼šæŠ¥ä»¥ä¸‹é”™è¯¯
    
    ![Untitled](Untitled%2012.png)
    

### æ”¯ä»˜çš„å®ç°

- æ•™ç¨‹
    
    [https://www.bilibili.com/video/BV1ZT4y1c7iL?p=3&spm_id_from=pageDriver&vd_source=a314bfb0589f50a82d60a44b2d833d8a](https://www.bilibili.com/video/BV1ZT4y1c7iL?p=3&spm_id_from=pageDriver&vd_source=a314bfb0589f50a82d60a44b2d833d8a)
    
- å‰æœŸå‡†å¤‡ï¼Œè´¦å·ç”³è¯·
    
    **å¾®ä¿¡å…¬ä¼—è´¦å·ï¼š**å¿…é¡»æœ‰ä¼ä¸šè®¤è¯è¿‡çš„å…¬ä¼—è´¦å·ï¼Œä¸ªäººæ˜¯ä¸èƒ½ç”³è¯·å¾®ä¿¡æ”¯ä»˜çš„
    
    **å¾®ä¿¡å•†æˆ·å¹³å°ï¼š**éœ€è¦ä¸€ä¸ªå•†æˆ·å¹³å°è´¦å·ï¼Œä¹Ÿæ˜¯è¦ä¼ä¸šä¸»ä½“çš„ï¼Œå½“æˆ‘ä»¬ç”³è¯·å®Œä¹‹åå¾®ä¿¡å®˜æ–¹ä¼šç»™æˆ‘ä»¬å‘ä¸€å°é‚®ä»¶ï¼ŒåŒ…å«äº†è´¦å·ä¿¡æ¯
    
    ![Untitled](Untitled%2013.png)
    
    **æ”¯ä»˜å®å•†æˆ·å¹³å°ï¼š**éœ€è¦ä¸€ä¸ªæ”¯ä»˜å®å•†æˆ·å¹³å°è´¦å·
    
    **å¤‡æ¡ˆè¿‡çš„åŸŸåï¼š**å·²ç»åœ¨å·¥ä¿¡éƒ¨å¤‡æ¡ˆé€šè¿‡çš„åŸŸå
    
    **æœåŠ¡å™¨ï¼š**éœ€è¦ä¸€ä¸ªå…·æœ‰å¤–ç½‘ ip çš„æœåŠ¡å™¨ï¼Œç”¨æ¥éƒ¨ç½²é¡¹ç›®
    
- æœåŠ¡å™¨é…ç½®
    
    
- å¾®ä¿¡ API çš„å®˜æ–¹æ–‡æ¡£ç ”ç©¶
    
    **è¿™é‡Œç”¨åˆ°çš„æ˜¯ native æ”¯ä»˜æ–¹å¼ï¼š**
    
    å°±æ˜¯äºŒç»´ç  
    
    ![Untitled](Untitled%2014.png)
    
    **ä½¿ç”¨çš„æ˜¯ç»Ÿä¸€ä¸‹å• API æµç¨‹ï¼š**
    
    1. åå°ç³»ç»Ÿæ ¹æ®ç”¨æˆ·é€‰è´­çš„å•†å“ç”Ÿæˆè®¢å•
    2. ç”¨æˆ·ç¡®è®¤æ”¯ä»˜åè°ƒç”¨å¾®ä¿¡æ”¯ä»˜çš„**ç»Ÿä¸€ä¸‹å•API**ç”Ÿæˆé¢„æ”¯ä»˜
    3. å¾®ä¿¡æ”¯ä»˜ç³»ç»Ÿæ”¶åˆ°è¯·æ±‚åï¼Œå¦‚æœæˆåŠŸä¼šè¿”å› code_url å°±æ˜¯äºŒç»´ç çš„é“¾æ¥ï¼Œå½“æˆ‘ä»¬æ‹¿åˆ°è¿™ä¸ª code_url åªéœ€è¦æŠŠè¿™ä¸ªäºŒç»´ç ç”Ÿæˆï¼Œåœ¨é¡µé¢ä¸Šå±•ç¤ºå°±å¯ä»¥
    4. ç”¨æˆ·æ‰«æäºŒç»´ç ä»˜æ¬¾
    
    ![Untitled](Untitled%2015.png)
    
    ![Untitled](Untitled%2016.png)
    
    **ç»Ÿä¸€ä¸‹å• api è¯·æ±‚å‚æ•°ä»‹ç»ï¼š**
    
    å…¶ä¸­æ¯”è¾ƒå¤æ‚çš„æ˜¯ç­¾åçš„ç”Ÿæˆç®—æ³•å’Œéšæœºæ•°ç”Ÿæˆç®—æ³•
    
    ![Untitled](Untitled%2017.png)
    
    æŠŠè¿™äº›ä¿¡æ¯æ‹¼æ¥æˆä¸€ä¸ª xml å­—ç¬¦ä¸²
    
    ![Untitled](Untitled%2018.png)
    
    **ç»Ÿä¸€ä¸‹å• API çš„è¿”å›ä¿¡æ¯ï¼š**
    
    ![Untitled](Untitled%2019.png)
    
    ![Untitled](Untitled%2020.png)
    
    **ä¸‹é¢æ˜¯ä¸€äº›é”™è¯¯ä¿¡æ¯çš„æè¿°ï¼š**
    
    ![Untitled](Untitled%2021.png)
    
    **ä¸‹é¢ä»‹ç»ç­¾åç®—æ³•ï¼šåˆ†ä¸ºä¸¤æ­¥**
    
    ç¬¬ä¸€æ­¥ï¼ŒæŠŠæ‰€æœ‰å‚æ•°æŒ‰ç…§é¡ºåºæ‹¼æ¥æˆ URL çš„æ ¼å¼
    
    ç¬¬äºŒæ­¥ï¼Œåœ¨æ‹¼æ¥å¥½çš„å­—ç¬¦ä¸²åé¢ï¼Œæ‹¼æ¥å•†æˆ·å¯†é’¥ï¼ˆå¾®ä¿¡å•†æˆ·å¹³å°çš„å¯†é’¥è®¾ç½®å¾—åˆ°ï¼‰ï¼Œç”¨MD5çš„æ–¹æ³•åŠ å¯†
    
    ![Untitled](Untitled%2022.png)
    
    ![Untitled](Untitled%2023.png)
    
- å¾®ä¿¡ API å¯¹æ¥å®æˆ˜
    
    **å¯¹æ¥æ¥å£ï¼Œæ‹¼æ¥xml**
    
    ![Untitled](Untitled%2024.png)
    
    ä½¿ç”¨qsæ¨¡å—åšå­—ç¬¦ä¸²æ‹¼æ¥
    
    ![Untitled](Untitled%2025.png)
    
    é€šè¿‡axiosè°ƒç”¨æ¥å£
    
    ![Untitled](Untitled%2026.png)
    
    **æ”¯ä»˜æ¥å£çš„å®ç°ï¼š**
    
    ä½¿ç”¨ mongoose åˆ›å»º order çš„ schema
    
    ![Untitled](Untitled%2027.png)
    
    **å®ç°æ¥å£ï¼š**
    
    æˆåŠŸä¹‹åå¯ä»¥ç”Ÿæˆä¸€ä¸ªäºŒç»´ç 
    
    ![Untitled](Untitled%2028.png)
    
    ç°åœ¨çš„æ•ˆæœï¼š
    
    ![Untitled](Untitled%2029.png)
    
    å¤„ç† code_url ç”ŸæˆäºŒç»´ç ï¼Œä½¿ç”¨ qrcode çš„åŒ…
    
    ![Untitled](Untitled%2030.png)
    
    1. å¾®ä¿¡å¼€å‘æœåŠ¡å™¨éªŒè¯
    2. å¾®ä¿¡ç™»å½•æˆæƒè·å– openid
    3. å¾®ä¿¡ jsapi ç­¾åè®¤è¯
    4. å¾®ä¿¡æ”¯ä»˜æ¥å£ç­¾å
    5. å…¬ä¼—è´¦å·è°ƒç”¨æ”¯ä»˜ api
- æ”¯ä»˜å® API å¯¹æ¥
    
    ![Untitled](Untitled%2031.png)
    
    ![Untitled](Untitled%2032.png)
    
    ![Untitled](Untitled%2033.png)
    
    å¼€å‘å·¥å…·ç”Ÿæˆç§é’¥å’Œå…¬é’¥
    
    ![Untitled](Untitled%2034.png)
    
    é…ç½® sdk
    
    ![Untitled](Untitled%2035.png)
    
    ![Untitled](Untitled%2036.png)
    
    ![Untitled](Untitled%2037.png)
    
    ![Untitled](Untitled%2038.png)
    
    ![Untitled](Untitled%2039.png)
    
    ![Untitled](Untitled%2040.png)
    
    1. æ”¯ä»˜å®è¯ä¹¦ç”Ÿæˆ
    2. æ”¯ä»˜å®æœåŠ¡å™¨ç«¯ sdk å¯¹æ¥
        1. é¡µé¢æ•ˆæœå®ç°

### 1ï¸âƒ£ æ­å»ºå‰ç«¯é¡µé¢

- 1. æ–°å»º React é¡¹ç›®
    
    create react app
    
    ![Untitled](Untitled%2041.png)
    
    regular function & arrow function
    
    ![Untitled](Untitled%2042.png)
    
    ![Untitled](Untitled%2043.png)
    

### 2ï¸âƒ£ ä»Epressæ¡†æ¶è·å–æ•°æ®

- 1. åç«¯ç®€å•æ¥å£ï¼Œè·‘èµ·æ¥
    
    ä¸‹è½½ express æ¡†æ¶
    
    ```jsx
    npm install express --save
    ```
    
    åˆ›å»º backend æ–‡ä»¶å¤¹ï¼Œåˆ›å»º server.js æ–‡ä»¶ï¼Œç„¶åå†™ä¸€ç‚¹ç®€å•çš„ä»£ç å°è¯•
    
    ![Untitled](Untitled%2044.png)
    
    è¿è¡Œä¸‹é¢çš„å‘½ä»¤ï¼Œå¯ä»¥æŠŠè¿™ä¸ªç¨‹åºåœ¨ 5000 ç«¯å£è·‘èµ·æ¥
    
    ```jsx
    npm backend/server.js
    ```
    
    æ‰“å¼€ [localhost:5000](http://localhost:5000) çœ‹åˆ°å·²ç»è·‘èµ·æ¥äº†
    
    ![Untitled](Untitled%2045.png)
    
    å¼•å…¥ product datasï¼Œå†å†™ä¸¤ä¸ªæ¥å£
    
    ![Untitled](Untitled%2046.png)
    
    ![Untitled](Untitled%2047.png)
    
    ![Untitled](Untitled%2048.png)
    
- 2. å‰ç«¯è·å–äº§å“çš„æ•°æ® (useState useEffect axios)
    1. **é…ç½®ç¯å¢ƒ**
    
    import axios, a http library
    
    ```jsx
    npm install axios
    ```
    
    é…ç½® proxy
    
    ![Untitled](Untitled%2049.png)
    
    1. **è¿æ¥ home screen**
    
    å¼•å…¥ product state
    
    ![Untitled](Untitled%2050.png)
    
    useEffect çš„ä½œç”¨æ˜¯æƒ³åœ¨è¿™ä¸ª component load çš„æ—¶å€™æ‰§è¡Œè¿™ä¸ª arrow function
    
    ![Untitled](Untitled%2051.png)
    
    1. **è¿æ¥ product detail screen**
    
    ![Untitled](Untitled%2052.png)
    
    å¦‚ä½•æŠŠ product çš„ä¿¡æ¯æ˜¾ç¤ºå‡ºæ¥å‘¢
    
    ![Untitled](Untitled%2053.png)
    
- 3. é…ç½® Nodemon Concurrently
    
    import both
    
    ```jsx
    npm install -D nodemon concurrently
    ```
    
    ![Untitled](Untitled%2054.png)
    
    **Nodemon** is a tool that we can use to constantly watch our server so that we dont have to resetting it.  å°±æ˜¯è¯´ä»–ä¼šè‡ªåŠ¨ç›‘å¬åˆ°ä½ åç«¯çš„å˜åŒ–ï¼Œæ‰€ä»¥å½“ä½ æœ‰ä»»ä½•çš„æ”¹åŠ¨ä»£ç æ—¶ï¼Œä¸ç”¨é‡æ–°å¯åŠ¨åç«¯
    
    ![Untitled](Untitled%2055.png)
    
    **Concurrently** å¯ä»¥åŒæ—¶æŠŠå‰ç«¯å’Œåç«¯è·‘èµ·æ¥ï¼Œä¸ç”¨åˆ†å¼€è·‘
    
    ![Untitled](Untitled%2056.png)
    
    æ‰€ä»¥ç°åœ¨åªéœ€è¦è¿è¡Œ `npm run dev` å‘½ä»¤å°±å¯ä»¥
    
- 4. é…ç½® .env æ–‡ä»¶
    
    To put any API key or stuff like that, any secert token, database strings, database password, and any secerts you want to put in here
    
    è¦æŠŠç«¯å£å·ï¼Œä»»ä½• API å¯†é’¥ï¼Œæˆ–è€…ä»»ä½• secret tokenï¼Œæ•°æ®åº“å­—ç¬¦ä¸²ï¼Œæ•°æ®åº“å¯†ç ï¼Œå¼€å‘æ¨¡å¼ï¼Œä»¥åŠä»»ä½•ä½ æƒ³æ”¾åœ¨è¿™é‡Œçš„ secret æ”¾è¿›å»
    
    åœ¨**æ ¹ç›®å½•(ä¸æ˜¯backendä¹Ÿä¸æ˜¯frontend)**æ–°å»º `.env` æ–‡ä»¶
    
    ![Untitled](Untitled%2057.png)
    
    åœ¨ `server.js` ä¸­ä½¿ç”¨å®šä¹‰çš„ç¯å¢ƒå˜é‡ import dotenv
    
    ![Untitled](Untitled%2058.png)
    
    ![Untitled](Untitled%2059.png)
    
- 6. ES module in Node.js
    
    ä¿®æ”¹æ¨¡å—å¯¼å…¥éƒ¨åˆ†
    
    common js : const express = require(â€™expressâ€™)
    
    ES : impor â€¦ from â€¦
    
    ![Untitled](Untitled%2060.png)
    
    ä¿®æ”¹æ¨¡å—å¯¼å‡ºéƒ¨åˆ†
    
    common js : module.export = products
    
    ES: export defalut products
    
    ![Untitled](Untitled%2061.png)
    
    ![Untitled](Untitled%2062.png)
    

### 3ï¸âƒ£ é…ç½® Mongo DB

- 1. Mongodb å®˜ç½‘é…ç½®ï¼Œä¸‹è½½ Compass
    
    **è¿›å…¥å®˜ç½‘å¹¶ç™»å½•è´¦å·**
    
     [https://www.mongodb.com/](https://www.mongodb.com/) 
    
    ![Untitled](Untitled%2063.png)
    
    ![Untitled](Untitled%2064.png)
    
    **è®¾ç½® security informations**
    
    åŒ…æ‹¬ database access å’Œ network access
    
    ![Untitled](Untitled%2065.png)
    
    ![Untitled](Untitled%2066.png)
    
    **ä¸‹è½½ compass**
    
    compass æ˜¯æ¡Œé¢çš„ gui è½¯ä»¶ï¼Œå¯ä»¥ç”¨æ¥è¿æ¥databaseå’Œç®¡ç†æ•°æ®
    
    ![Untitled](Untitled%2067.png)
    
    **æ·»åŠ è¡¨å’Œæ•°æ®**
    
    ç‚¹å‡»collections â†’ add my own data
    
    ![Untitled](Untitled%2068.png)
    
    **æŠŠæ•°æ®è¿æ¥åˆ°æœ¬åœ°çš„ compass**
    
    ![Untitled](Untitled%2069.png)
    
    å¤åˆ¶è¿™ä¸ªconnection string
    
    ![Untitled](Untitled%2070.png)
    
    ç²˜è´´åˆ° compassï¼Œç„¶åæŠŠå¯†ç å¡«å†™æˆè‡ªå·±çš„å¯†ç ï¼Œtestæ”¹æˆè‡ªå·±çš„æ•°æ®åº“å
    
    ![Untitled](Untitled%2071.png)
    
    è¿æ¥æˆåŠŸ
    
    ![Untitled](Untitled%2072.png)
    
    **è¿æ¥ mongo db åˆ°é¡¹ç›®é‡Œ**
    
    ç‚¹å‡»ç¬¬äºŒä¸ª connect your application
    
    ![Untitled](Untitled%2073.png)
    
    åŒæ ·æ˜¯å¤åˆ¶è¿™ä¸ªconnection string
    
    ![Untitled](Untitled%2074.png)
    
    ç„¶å copy è¿› .env file
    
    ![Untitled](Untitled%2075.png)
    
- 2. ç”¨ mongoose ****è¿æ¥ Mongo DB
    
    **ä¸‹è½½ mongoose**
    
    Mongoose æ˜¯ä¸€ä¸ªè®©æˆ‘ä»¬å¯ä»¥é€šè¿‡ Node æ¥æ“ä½œ MongoDB æ•°æ®åº“çš„ä¸€ä¸ªæ¨¡å—
    Mongoose æ˜¯ä¸€ä¸ªå¯¹è±¡æ–‡æ¡£æ¨¡å‹ï¼ˆODMï¼‰åº“ï¼Œå®ƒæ˜¯å¯¹ Node åŸç”Ÿçš„ MongoDB æ¨¡å—è¿›è¡Œäº†è¿›ä¸€æ­¥çš„ä¼˜åŒ–å°è£…ã€‚å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œä»–è¢«ç”¨æ¥æŠŠç»“æ„åŒ–çš„æ¨¡å¼åº”ç”¨åˆ°ä¸€ä¸ª MongoDB é›†åˆï¼Œå¹¶æä¾›äº†éªŒè¯å’Œç±»å‹è£…æ¢ç­‰å¥½å¤„ï¼ŒåŸºäºMongoDBé©±åŠ¨ï¼Œé€šè¿‡å…³ç³»å‹æ•°æ®åº“çš„æ€æƒ³æ¥å®ç°éå…³ç³»å‹æ•°æ®åº“
    
    ![Untitled](Untitled%2076.png)
    
    ```jsx
    npm install mongoose
    ```
    
    **å†™é…ç½®æ–‡ä»¶**
    
    åœ¨åç«¯æ–‡ä»¶å¤¹æ–°å»º config æ–‡ä»¶å¤¹ï¼Œæ–°å»º db.js æ–‡ä»¶
    
    ä½¿ç”¨ `mongoose.connect(MONGO_URL)` çš„æ–¹æ³•æ¥è¿æ¥
    
    ![Untitled](Untitled%2077.png)
    
    ç„¶ååœ¨ server å¼•å…¥
    
    ![Untitled](Untitled%2078.png)
    
- 3. ç”¨ mongoose åˆ›å»º ****Schema å’Œ modal
    
    é€šè¿‡ `Schema` åˆ›å»º `Model`
    
    Model ä»£è¡¨çš„æ˜¯æ•°æ®åº“ä¸­çš„é›†åˆï¼Œé€šè¿‡ Model æ‰èƒ½å¯¹æ•°æ®åº“è¿›è¡Œæ“ä½œ
    
    é¦–å…ˆåœ¨ backend ç›®å½•ä¸‹åˆ›å»º **model** æ–‡ä»¶å¤¹ï¼Œé‡Œé¢è£…çš„æ˜¯ä¸‰ä¸ªæ•°æ®è¡¨çš„schemaï¼Œæ˜¯é€šè¿‡ `moogose.Schema({})` çš„æ–¹æ³•åˆ›å»ºçš„ï¼Œç„¶åç”¨ `mongoose.modal(name, schema)` çš„æ–¹æ³•åˆ›å»º modal
    
    **userModel**
    
    ![Untitled](Untitled%2079.png)
    
    ![Untitled](Untitled%2080.png)
    
    ```jsx
    import mongoose from 'mongoose';
    
    const userSchema = new mongoose.Schema(
      {
        name: { type: String, required: true },
        email: { type: String, required: true, unique: true },
        password: { type: String, required: true },
        isAdmin: { type: Boolean, default: false, required: true },
        isSeller: { type: Boolean, default: false, required: true },
        seller: {
          name: String,
          logo: String,
          description: String,
          rating: { type: Number, default: 0, required: true },
          numReviews: { type: Number, default: 0, required: true },
        },
      },
      {
        timestamps: true,
      }
    );
    const User = mongoose.model('User', userSchema);
    export default User;
    ```
    
    **peoductModel**
    
    ```jsx
    import mongoose from 'mongoose';
    const reviewSchema = new mongoose.Schema(
      {
        name: { type: String, required: true },
        comment: { type: String, required: true },
        rating: { type: Number, required: true },
      },
      {
        timestamps: true,
      }
    );
    const productSchema = new mongoose.Schema(
      {
        name: { type: String, required: true, unique: true },
        seller: { type: mongoose.Schema.Types.ObjectID, ref: 'User' },
        image: { type: String, required: true },
        brand: { type: String, required: true },
        category: { type: String, required: true },
        description: { type: String, required: true },
        price: { type: Number, required: true },
        countInStock: { type: Number, required: true },
        rating: { type: Number, required: true },
        numReviews: { type: Number, required: true },
        reviews: [reviewSchema],
      },
      {
        timestamps: true,
      }
    );
    const Product = mongoose.model('Product', productSchema);
    
    export default Product;
    ```
    
    **orderModel** 
    
    ```jsx
    import mongoose from 'mongoose';
    
    const orderSchema = new mongoose.Schema(
      {
        orderItems: [
          {
            name: { type: String, required: true },
            qty: { type: Number, required: true },
            image: { type: String, required: true },
            price: { type: Number, required: true },
            product: {
              type: mongoose.Schema.Types.ObjectId,
              ref: 'Product',
              required: true,
            },
          },
        ],
        shippingAddress: {
          fullName: { type: String, required: true },
          address: { type: String, required: true },
          city: { type: String, required: true },
          postalCode: { type: String, required: true },
          country: { type: String, required: true },
          lat: Number,
          lng: Number,
        },
        paymentMethod: { type: String, required: true },
        paymentResult: {
          id: String,
          status: String,
          update_time: String,
          email_address: String,
        },
        itemsPrice: { type: Number, required: true },
        shippingPrice: { type: Number, required: true },
        taxPrice: { type: Number, required: true },
        totalPrice: { type: Number, required: true },
        user: { type: mongoose.Schema.Types.ObjectId, ref: 'User', required: true },
        seller: { type: mongoose.Schema.Types.ObjectID, ref: 'User' },
        isPaid: { type: Boolean, default: false },
        paidAt: { type: Date },
        isDelivered: { type: Boolean, default: false },
        deliveredAt: { type: Date },
      },
      {
        timestamps: true,
      }
    );
    const Order = mongoose.model('Order', orderSchema);
    export default Order;
    ```
    
- 4. ä¼ªé€ ä¸€äº›ç®€å•çš„æ•°æ®  bcryptjs
    
    å…³äºç”¨æˆ·çš„å¯†ç ä½¿ç”¨ bcryptjs
    
    ```jsx
    npm i bcryptjs
    ```
    
    ä¸‹é¢æ˜¯ä¼ªé€ å¥½çš„ä¸€äº›æ•°æ®ï¼š
    
    ![Untitled](Untitled%2081.png)
    
    ![Untitled](Untitled%2082.png)
    
- 5. æ•°æ® Seeder æ‰¹é‡å¯¼å…¥è„šæœ¬
    
    æŠŠ json é‡Œçš„æ•°æ®å¯¼å…¥åˆ°æ•°æ®åº“é‡Œé¢å»
    
    ![Untitled](Untitled%2083.png)
    
    ![Untitled](Untitled%2084.png)
    
    å®šä¹‰å¦ä¸€ä¸ª destroy æ‰€æœ‰æ•°æ®çš„æ–¹æ³• && å¦‚ä½•å®šä¹‰å‘½ä»¤è¡Œçš„å¿«æ·æŒ‡ä»¤ï¼š
    
    ![Untitled](Untitled%2085.png)
    
    åˆ·æ–°ä¹‹åï¼Œå¯ä»¥çœ‹åˆ°æ•°æ®åº“æœ¬æ¥æ˜¯ç©ºçš„ï¼Œç°åœ¨å·²ç»å¯¼å…¥äº†
    
    ![Untitled](Untitled%2086.png)
    
- 6. åç«¯æ–°å»º route æ–‡ä»¶ï¼Œå°è£… server.js ä¸­çš„ api
    
    é¦–å…ˆåœ¨åç«¯æ–‡ä»¶å¤¹é‡Œï¼Œæ–°å»º  route æ–‡ä»¶å¤¹ï¼Œå­˜æ”¾ api
    
    æŠŠ server.js é‡Œçš„ api å¤åˆ¶è¿‡å»
    
    ![Untitled](Untitled%2087.png)
    
    æŠŠapp.get æ”¹æˆ route.get
    
    ![Untitled](Untitled%2088.png)
    
    ç„¶åï¼Œåœ¨ server.js é‡Œé¢ï¼ŒæŠŠè·Ÿ/api/products ç›¸å…³çš„apiï¼Œè·Ÿ productRoutes è¿™ä¸ª route å…³è”èµ·æ¥
    
    ![Untitled](Untitled%2089.png)
    
    æ‰€ä»¥ `app.get('/api/products/',()=>{})` ç›¸å½“äº 
    
    `app.use('/api/products', productRoutes )` +  productRoutes æ–‡ä»¶å¤¹ä¸­çš„   `route.get('/',()=>{})`
    
- 7. ä» MongoDB ä¸­è·å¾—æ•°æ®
    
    å…³äº express-async-handlerï¼Œç”¨æ¥é”™è¯¯å¤„ç†ï¼š
    
    ![Untitled](Untitled%2090.png)
    
    ç”¨ asyncHandleråŒ…è£¹å‡½æ•°
    
    - getAllProduct api
        
        ![Untitled](Untitled%2091.png)
        
    - getProductById api
        
        ![Untitled](Untitled%2092.png)
        
    
    â­æ‰€ä»¥åœ¨ mongodbé‡Œé¢è·å–æ•°æ®æ˜¯ç”¨ `.find`  æˆ–è€… `.findById`
    
- 8. åˆ›å»º Error Handler çš„ node ä¸­é—´ä»¶
    
    server.js é‡Œé¢ app.use è¡¨ç¤ºä½¿ç”¨ä¸­é—´ä»¶
    
    ![Untitled](Untitled%2093.png)
    
    æ•ˆæœ
    
    ![Untitled](Untitled%2094.png)
    
    ä¸ºäº†è®©ä»£ç çœ‹èµ·æ¥ç®€çº¦ï¼Œæˆ‘ä»¬æ–°å»º middleware æ–‡ä»¶å¤¹ï¼ŒæŠŠè¿™ä¸ªé”™è¯¯å¤„ç†çš„ middleware æ”¾åœ¨æ–‡ä»¶å¤¹é‡Œ
    
    ![Untitled](Untitled%2095.png)
    
    ç„¶ååœ¨ serverjs é‡Œé¢å¼•å…¥
    
    ![Untitled](Untitled%2096.png)
    
    ![Untitled](Untitled%2097.png)
    

### 4ï¸âƒ£ å¼•å…¥ Redux çŠ¶æ€ç®¡ç†

- 1. Redux ä»‹ç»
    
    state çš„å±æ€§æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯ç»„ä»¶ levelï¼Œä¸€ä¸ªæ˜¯å…¨å±€ level ï¼Œredux æ˜¯é’ˆå¯¹äºæ•´ä¸ªåº”ç”¨çš„å…¨å±€æ€§çš„ state ç®¡ç†ã€‚ æ¯”å¦‚åœ¨æˆ‘ä»¬é¡¹ç›®ä¸­çš„ product è¿™ä¸ª stateï¼Œæˆ‘ä»¬åœ¨é¡¹ç›®ä¸­ä¼šåœ¨ä¸åŒçš„ç»„ä»¶å½“ä¸­éƒ½ç”¨åˆ°è¿™ä¸ª stateï¼Œå¯èƒ½æ˜¯æ›´æ–°ã€æ·»åŠ ã€åˆ é™¤è¿™æ ·ï¼Œä½ å¸Œæœ› product æ˜¯å¯¹æ‰€æœ‰çš„ç»„ä»¶éƒ½ available çš„ã€‚å¦ä¸€ä¸ªä¾‹å­æ˜¯ç»è¿‡èº«ä»½éªŒè¯çš„ userï¼Œå½“æˆ‘ä»¬ç™»å½•ä¹‹åï¼Œè´­ç‰©è½¦ç‰©å“ï¼Œè®¢å•ä¹‹ç±»çš„éƒ½éœ€è¦å¯¹è¿™ä¸ª user çš„ state è¿›è¡Œæ“ä½œ
    
    ![Untitled](Untitled%2098.png)
    
    æ”¹å˜ state çš„æ–¹å¼æ˜¯é€šè¿‡ reducer æˆ– reduce æˆ–å‡½æ•°ï¼ŒåŸºæœ¬ä¸Šï¼Œé™¤äº† Actionsï¼Œå®ƒåªæ˜¯ä¸€äº›å‡½æ•°ï¼Œå®ƒä»¬è´Ÿè´£æ“ä½œå¹¶å°† state ä¼ é€’ç»™ç»„ä»¶ã€‚ç°åœ¨ï¼ŒAction åªæ˜¯ä»£è¡¨æ”¹å˜è¿™ä¸ª state çš„æ„å›¾çš„å¯¹è±¡ã€‚æˆ‘ä»¬ä¹Ÿæœ‰ action creatorï¼Œä»–ä»¬æ˜¯å°† dispatch æˆ– fire off è¿™äº› action çš„å‡½æ•°
    
    ä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬å¯èƒ½æœ‰ä¸€ä¸ªåä¸º Get Products çš„ action creator function ã€‚åœ¨è¿™ä¸ª action creator ä¸­ï¼Œæˆ‘ä»¬å‘åç«¯å‘å‡ºä¸€ä¸ªåŠŸèƒ½è¯·æ±‚ï¼Œä½¿ç”¨ Axios æˆ– Fetch API æˆ–å…¶ä»–æ–¹å¼è·å–æ•°æ®ã€‚ç„¶åæˆ‘ä»¬å¾—åˆ°è¿™äº›æ•°æ®ï¼Œç„¶åæˆ‘ä»¬ dispatch  ä¸€ä¸ª action åˆ° reducerï¼Œå¹¶é™„åŠ ä¸€ä¸ª payloadã€‚è¯¥ payload å°†åŒ…å«è·å–çš„æ•°æ®
    
    ç°åœ¨åœ¨ reducer ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥å°† payload æ•°æ®åˆ†é…ç»™ stateï¼Œæˆ‘ä»¬å¯ä»¥å°†å…¶ä¼ é€’ç»™ä»»ä½•éœ€è¦å®ƒçš„ç»„ä»¶ã€‚å¥½çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥æœ‰å¤šä¸ªç»„ä»¶è¦æ±‚å¾—åˆ°åŒä¸€å— stateã€‚æ‰€ä»¥ï¼Œ æŠŠ state æƒ³æˆæ˜¯ç›˜æ—‹åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸Šçš„ä¸€æœµäº‘ã€‚å½“æˆ‘ä»¬éœ€è¦å‘ç”Ÿä¸€äº›äº‹æƒ…æ—¶ï¼Œæ¯”å¦‚è¯´æˆ‘ä»¬æƒ³ç‚¹å‡»ä¸€ä¸ªæŒ‰é’®ï¼Œä»æœåŠ¡å™¨ä¸Šè·å–ä¸€äº›æ•°æ®ï¼Œç„¶åæ˜¾ç¤ºå‡ºæ¥ï¼Œæˆ‘ä»¬å¿…é¡»åˆ›å»ºä¸€ä¸ª action æˆ–ä¸€ä¸ª  action creatorï¼Œå°†ä¸€ä¸ªç‰¹å®šçš„åŠ¨ä½œ dispatch ç»™ reducerï¼Œç„¶å reducer å°†å…¶ä¼ é€’ç»™ç»„ä»¶
    
    åŒæ ·ï¼Œæˆ‘çŸ¥é“è¿™å¬èµ·æ¥å¯èƒ½è¶…çº§æ··ä¹±ã€‚æˆ‘åœ¨ç†è®ºä¸Šè§£é‡Šreduxå’Œçœ‹å›¾è¯´è¯æ—¶æ€»æ˜¯é‡åˆ°å›°éš¾ï¼Œä½†å½“æˆ‘ä»¬å¼€å§‹è·³å…¥ä»£ç å¹¶çœ‹åˆ°å®ƒçš„å®é™…å·¥ä½œæ—¶ï¼Œå¤§å¤šæ•°äººçœŸçš„å€¾å‘äºæŒæ¡å®ƒ
    
    **ä¹‹å‰ç³»ç»Ÿå­¦çš„æ—¶å€™çš„ä¸€äº›ç¬”è®°ï¼š**
    
    **ç®€ä»‹**
    
    ä¸“é—¨é’ˆå¯¹ react æ‰€è®¾è®¡çš„çŠ¶æ€ç®¡ç†å·¥å…·ï¼Œé¡¶å±‚å¥—ä¸€ä¸ª providerï¼Œåº•å±‚çš„ç»„ä»¶éƒ½å¯ä»¥ä½¿ç”¨é¡¶å±‚çš„æ•°æ®
    
    ![Untitled](Untitled%2099.png)
    
    ```python
    npm i redux react-redux
    ```
    
    **ç®€å•ä½¿ç”¨**
    
    éœ€è¦åœ¨é¡¹ç›®é‡Œæ–°å»ºæ–‡ä»¶å¤¹ storeï¼Œé‡Œé¢æœ‰ 
    
    - å·¦ï¼šindex.js (ä»“åº“çš„å…¥å£æ–‡ä»¶)
    - å³ï¼šreduce.js (åˆ›å»ºåˆå§‹çŠ¶æ€ï¼Œå¹¶å¯¼å‡ºä¸€ä¸ªå‡½æ•°)
    
    ![Untitled](Untitled%20100.png)
    
    ä¿®æ”¹ç»„ä»¶
    
    - ä¿®æ”¹ src/index.js æ·»åŠ  **provider**
    - ä¿®æ”¹ app componantï¼Œæ·»åŠ  **connect**ï¼Œå®šä¹‰çŠ¶æ€æ˜ å°„ï¼ˆå°† reducer ä¸­çš„ state æ˜ å°„æˆ propsï¼Œè®©å¼€å‘è€…å¯ä»¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ props.num å»è°ƒç”¨ state ä¸­çš„ numï¼‰ï¼Œä¼ å…¥å‚æ•°props
    
    ![Untitled](Untitled%20101.png)
    
    ## 2.2 mapState vs mapDispatch
    
    **mapState**ï¼šçŠ¶æ€æ˜ å°„ï¼Œå°† reducer ä¸­çš„ state æ˜ å°„æˆ propsï¼Œè®©å¼€å‘è€…å¯ä»¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ props.num å»è°ƒç”¨ state ä¸­çš„ num
    
    **mapDispatch**ï¼šäº‹ä»¶æ´¾å‘æ˜ å°„ï¼Œå°† reducer ä¸­çš„äº‹ä»¶æ˜ å°„æˆ propsï¼Œè®©å¼€å‘è€…å¯ä»¥åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ props.add() å»å®ç° num çš„ç´¯åŠ 
    
    ![Untitled](Untitled%20102.png)
    
    æ³¨æ„ï¼šå·¦å›¾çš„reduce.jsæ–‡ä»¶é‡Œé¢ï¼Œæ¯”èµ· if åˆ¤æ–­ï¼Œä¸€èˆ¬è¿˜æ˜¯å¸¸ç”¨ switch
    
- 2. åœ¨ src ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶ store.jsï¼ŒcreateStore
    
    åœ¨ frontend æ–‡ä»¶å¤¹ä¸‹å®‰è£… redux ä»¥åŠç›¸å…³çš„ä¸­é—´ä»¶å’Œæ’ä»¶
    
    ```sql
    npm i redux react-redux redux-thunk redux-devtools-extension
    ```
    
    ![Untitled](Untitled%20103.png)
    
    åœ¨ src ç›®å½•ä¸‹æ–°å»ºæ–‡ä»¶ store.js ï¼Œè¿™é‡Œæ˜¯æˆ‘ä»¬è¿æ¥ reducers å’Œä¸€äº› middleware çš„åœ°æ–¹
    
    ![Untitled](Untitled%20104.png)
    
    åœ¨ src çš„ index ç›®å½•ä¸‹ å¼•å…¥ provider å’Œ storeï¼Œç”¨ provider æ ‡ç­¾åŒ…è£¹ App æ ‡ç­¾
    
    ![Untitled](Untitled%20105.png)
    
    PSï¼šä¹‹å‰åŒ…è£¹ app çš„æ˜¯è¿™ä¸ª
    
    ![Untitled](Untitled%20106.png)
    
- 3. åˆ›å»º Product list çš„ Reduce & Action
    
    **åˆ›å»º Reducers**
    
    åœ¨ frontend çš„ src ç›®å½•åˆ›å»º reducers æ–‡ä»¶å¤¹
    
    åŸºæœ¬ä¸Šæˆ‘ä»¬åº”ç”¨ç¨‹åºçš„æ¯ä¸ªèµ„æºéƒ½ä¼šæœ‰ä¸€ä¸ª reduceï¼Œæ¯”å¦‚äº§å“ã€‚æ‰€ä»¥åœ¨ reducers æ–‡ä»¶å¤¹é‡Œåˆ›å»ºä¸€ä¸ª `productReducers.js` æ–‡ä»¶ï¼Œç„¶ååœ¨è¿™ä¸ªæ–‡ä»¶é‡Œï¼Œåˆ›å»º `productListReducer`
    
    åˆ›å»º Reducer æ˜¯ä¸€ä¸ªç®­å¤´å‡½æ•°ï¼Œä¼ å…¥çš„å‚æ•°æ˜¯ state å’Œ action
    
    ![Untitled](Untitled%20107.png)
    
    åœ¨ store ä¸­å¼•å…¥ productListï¼Œæ”¾åˆ° combineReducers é‡Œé¢å»
    
    ![Untitled](Untitled%20108.png)
    
    ç°åœ¨å·²ç»å¯ä»¥åœ¨æµè§ˆå™¨æ’ä»¶é‡Œçœ‹åˆ° state äº†ï¼Œè™½ç„¶å®ƒè¿˜æ˜¯ç©ºçš„
    
    ![Untitled](Untitled%20109.png)
    
    **åˆ›å»º Actions**
    
    åœ¨ frontend çš„ src ç›®å½•åˆ›å»º actions æ–‡ä»¶å¤¹ï¼Œåœ¨ actions æ–‡ä»¶å¤¹é‡Œåˆ›å»ºä¸€ä¸ª `productActions.js` æ–‡ä»¶ï¼Œç„¶ååœ¨è¿™ä¸ªæ–‡ä»¶é‡Œï¼Œåˆ›å»º `ListProducts`
    
    ![Untitled](Untitled%20110.png)
    
    PS: ç°åœ¨è¿™ä¸ª ListProducts action è¦åšçš„äº‹æƒ…å’Œæˆ‘ä»¬ä¹‹å‰åœ¨ HomeScreen ç»„ä»¶çš„ä½¿ç”¨æ•ˆæœä¸­åšçš„å·®ä¸å¤š ğŸ‘‡ We're going to do it through this action and we're going to dispatch actions to the reducer.
    
    ![Untitled](Untitled%20111.png)
    
- 4. åœ¨ HomeScreen é‡Œå¼•å…¥ Product list çš„ Redux
    1. æŠŠä¹‹å‰çš„ local state çš„ product åˆ æ‰ï¼Œå› ä¸ºæˆ‘ä»¬ä¸éœ€è¦å†æŠŠ product è®¾ç½®ä¸ºæˆ‘ä»¬çš„ loacal state æˆ–æˆ‘ä»¬çš„ component level stateï¼Œæˆ‘ä»¬éœ€è¦ä» Redux ä¸­æŠŠå®ƒå¸¦è¿›æ¥
    2. æŠŠ axios åˆ æ‰ï¼Œå› ä¸ºå·²ç»äº¤ç»™ action å»å¤„ç†äº†
    3. å¼•å…¥ hooks **useDispatch**ï¼Œä¼šè¢«ç”¨æ¥ dispatch or call in action
        
        PSï¼šåœ¨è¿‡å»ï¼Œæˆ‘ä»¬ä¼šä½¿ç”¨ä¸€ä¸ªå«åš Connect çš„é«˜é˜¶æ–¹æ³•ï¼Œæˆ‘ä»¬æŠŠ state æ˜ å°„åˆ° props ä¸Šï¼Œç°åœ¨è¿™ç§ useDispatch æ–¹æ³•æ›´åŠ ç®€å•
        
    4. å¼•å…¥ hooks **useSelector**ï¼Œç”¨æ¥é€‰æ‹©éƒ¨åˆ†éœ€è¦çš„ stateï¼Œæˆ‘ä»¬å°†æƒ³è¦ product list ä¸­çš„éƒ¨åˆ†çŠ¶æ€
    
    ![Untitled](Untitled%20112.png)
    
    ä¿®æ”¹ homePage çš„é¡µé¢ï¼Œè®¾ç½® loading/error/æ­£å¸¸ ä¸‰ç§çŠ¶æ€çš„æ˜¾ç¤º
    
    ![Untitled](Untitled%20113.png)
    
- 5. åœ¨ä¸»é¡µæ·»åŠ  Loading å’Œ Message ç»„ä»¶
    
    åˆšåˆšåœ¨ homePage çš„é¡µé¢ï¼Œè®¾ç½® loading/error/æ­£å¸¸ ä¸‰ç§çŠ¶æ€çš„æ˜¾ç¤ºï¼Œç°åœ¨æ¥ç»†åŒ– loading/error çš„æ˜¾ç¤º
    
    åœ¨ component ä¸­åˆ›å»º Loader.js
    
    ![Untitled](Untitled%20114.png)
    
    åœ¨ component ä¸­åˆ›å»º Message.js
    
    ![Untitled](Untitled%20115.png)
    
    ä¿®æ”¹ homeScreen ä¸­çš„ç»„ä»¶
    
    ![Untitled](Untitled%20116.png)
    
- 6. åˆ›å»º Product detail çš„ Reduce & Action (å¯¹åº”3)
   å¹¶åœ¨ productScreen é‡Œå¼•å…¥ Product dtail çš„ Redux (å¯¹åº”4)
    
    **å¯ä½œä¸ºä»¥ååˆ›å»ºå…¶ä»– redux state çš„ general æµç¨‹**
    
    1. åœ¨ constant æ–‡ä»¶é‡Œé¢æ·»åŠ ç›¸åº”çš„ action.type
        
        ![Untitled](Untitled%20117.png)
        
    2. åœ¨ Reducers æ–‡ä»¶å¤¹ çš„ productReducers é‡Œé¢åˆ›å»ºæ–°çš„ productDetailsReducer
        
        ![Untitled](Untitled%20118.png)
        
    3. è¿›å…¥ store æ–‡ä»¶ï¼Œåœ¨ combineReducers é‡Œé¢å¼•å…¥è¿™ä¸ªæ–°å»ºçš„ productDetailsReducer
        
        ![Untitled](Untitled%20119.png)
        
    4. åœ¨ action æ–‡ä»¶å¤¹ä¸­çš„ productActions.js ä¸­ï¼Œæ–°å»º listProductDetails è¿™ä¸ª action creator function
        
        ![Untitled](Untitled%20120.png)
        
    5. è¿›å…¥ productScreenï¼Œè·Ÿä¸Šé¢çš„(3)å’Œ(4)åšä¸€æ ·çš„æ“ä½œ
        
        ![Untitled](Untitled%20121.png)
        
        ![Untitled](Untitled%20122.png)
        

### 5ï¸âƒ£ æ·»åŠ è´­ç‰©è½¦

- 1. é€‰æ‹©æ·»åŠ åˆ°è´­ç‰©è½¦ item æ•°é‡ï¼Œå®ç° add æŒ‰é’®äº‹ä»¶
    
    å®ç°æ•ˆæœ
    
    ![Untitled](Untitled%20123.png)
    
    å®ç°é€‰æ‹© qty çš„ä¸‹æ‹‰èœå•ï¼Œå¦‚æœ product çš„ countInStock æ•°æ®è¿˜å¤§äº 0ï¼Œåˆ™æ˜¾ç¤ºè¿™ä¸ªé€‰æ‹© qty çš„ä¸‹æ‹‰æ¡†ï¼Œå¹¶ä¸”æŠŠ countInStock çš„æ•°é‡ map ä¸ºå¤šä¸ª option
    
    ![Untitled](Untitled%20124.png)
    
    å®ç°è¿™ä¸ª button çš„ onclick å‡½æ•°
    
    ![Untitled](Untitled%20125.png)
    
- 2. æ·»åŠ åˆ°è´­ç‰©è½¦çš„ reducer & action
    
    è·Ÿä¹‹å‰çš„æ­¥éª¤ä¸€æ ·
    
    1. åˆ›å»º cartConstant.js æ–‡ä»¶
        
        ![Untitled](Untitled%20126.png)
        
    2. åˆ›å»º cartReducers.js æ–‡ä»¶å¤¹ï¼Œæ·»åŠ  add_to_cart reducer
        
        ![Untitled](Untitled%20127.png)
        
    3. åœ¨ store.js é‡Œé¢æ³¨å†Œè¿™ä¸ª reducer
        
        ![Untitled](Untitled%20128.png)
        
    4. åœ¨ actions æ–‡ä»¶å¤¹é‡Œåˆ›å»º cartActions.jsï¼Œæ–°å»º addToCart Actionï¼Œåœ¨ action çš„ payload é‡Œé¢è¿”å›æŸ¥æ‰¾åˆ°çš„å•†å“å¯¹è±¡ï¼Œå¹¶ä¸”ä¿å­˜åœ¨ localStorage ä¸­
        
        ![Untitled](Untitled%20129.png)
        
    5. åœ¨ store.js é‡Œé¢å¼•å…¥ cartItem çš„ localStorage
        
        ![Untitled](Untitled%20130.png)
        
    6. åœ¨ CartScreen view é‡Œé¢å®ç°æ·»åŠ åˆ°è´­ç‰©è½¦çš„åŠŸèƒ½ï¼Œæ”¾åœ¨ä¸‹ä¸€èŠ‚è®²
- 3. æ·»åŠ åˆ°è´­ç‰©è½¦çš„ screen function
    
    å¼•å…¥éœ€è¦çš„hookï¼ŒuseEffect æ˜¯æˆ‘ä»¬è¦å®é™… dispatch æ·»åŠ åˆ°è´­ç‰©è½¦çš„åœ°æ–¹
    
    ![Untitled](Untitled%20131.png)
    
    åœ¨ view ä¸­å®ç°æ·»åŠ è´­ç‰©è½¦çš„åŠŸèƒ½
    
    match å¯ä»¥ä» url ä¸­æ‰¾åˆ° idï¼Œlocation.search å¯ä»¥ä» url ä¸­æå–å‡ºé—®å·åé¢çš„å‚æ•°ï¼Œè¿™é‡Œæå–å‡ºæ¥çš„æ˜¯ ?qty=1 è¿™ä¸ªå­—ç¬¦ä¸²
    
    ![Untitled](Untitled%20132.png)
    
    ç°åœ¨çš„æ•ˆæœæ˜¯ï¼Œå¯ä»¥åœ¨ state ä¸­çœ‹è§ cartItem çš„å¢åŠ äº†
    
    ![Untitled](Untitled%20133.png)
    
- 4. å†™è´­ç‰©è½¦çš„å‰ç«¯ç•Œé¢ CartScreen
    
    åœ¨ App.js å½“ä¸­å¼•å…¥è¿™ä¸ªè·¯ç”±
    
    ![Untitled](Untitled%20134.png)
    
    æ•ˆæœ
    
    ![Untitled](Untitled%20135.png)
    
    ```html
    <Row>
      <Col md={8}>
        <h1>Shopping Cart</h1>
        {cartItems.length === 0 ? (
          <Message>
            Your cart is empty <Link to='/'>Go Back</Link>
          </Message>
        ) : (
          <ListGroup variant='flush'>
            {cartItems.map((item) => (
              <ListGroup.Item key={item.product}>
                <Row>
                  <Col md={2}>
                    <Image src={item.image} alt={item.name} fluid rounded />
                  </Col>
                  <Col md={3}>
                    <Link to={`/product/${item.product}`}>{item.name}</Link>
                  </Col>
                  <Col md={2}>${item.price}</Col>
                  <Col md={2}>
                    <Form.Control
                      as='select'
                      value={item.qty}
                      onChange={(e) =>
                        dispatch(
                          addToCart(item.product, Number(e.target.value))
                        )
                      }
                    >
                      {[...Array(item.countInStock).keys()].map((x) => (
                        <option key={x + 1} value={x + 1}>
                          {x + 1}
                        </option>
                      ))}
                    </Form.Control>
                  </Col>
                  <Col md={2}>
                    <Button
                      type='button'
                      variant='light'
                      onClick={() => removeFromCartHandler(item.product)}
                    >
                      <i className='fas fa-trash'></i>
                    </Button>
                  </Col>
                </Row>
              </ListGroup.Item>
            ))}
          </ListGroup>
        )}
      </Col>
    
      <Col md={4}>
        <Card>
          <ListGroup variant='flush'>
            <ListGroup.Item>
              <h2>
                Subtotal ({cartItems.reduce((acc, item) => acc + item.qty, 0)})
                items
              </h2>
              $
              {cartItems
                .reduce((acc, item) => acc + item.qty * item.price, 0)
                .toFixed(2)}
            </ListGroup.Item>
            <ListGroup.Item>
              <Button
                type='button'
                className='btn-block'
                disabled={cartItems.length === 0}
                onClick={checkoutHandler}
              >
                Proceed To Checkout
              </Button>
            </ListGroup.Item>
          </ListGroup>
        </Card>
      </Col>
    </Row>
    ```
    
- 5. ä»è´­ç‰©è½¦åˆ é™¤çš„ reducer & action & screen function
    1. æ·»åŠ  remove constant
    2. æ·»åŠ  cartReducer çš„å¦ä¸€ä¸ª case
        
        ![Untitled](Untitled%20136.png)
        
    3. æ·»åŠ  action
        
        ![Untitled](Untitled%20137.png)
        
    4. åœ¨ cartScreen é‡Œå®ç°åŠŸèƒ½ï¼Œå®ç°è¿™ä¸ª removeFromCartHandler
        
        ![Untitled](Untitled%20138.png)
        

### 6ï¸âƒ£ åç«¯èº«ä»½è®¤è¯

- 0. Prepareï¼šæŠŠåç«¯ route å°è£…æˆ Controller
    
    æ–°å»º controllers æ–‡ä»¶å¤¹ï¼Œæ–°å»º productController.js
    
    ä»¥å‰çš„ productRoutes æ–‡ä»¶ï¼Œéƒ½æ˜¯æŠŠå…·ä½“å‡½æ•°çš„å®ç°å†™åœ¨ router.get()é‡Œé¢
    
    ![Untitled](Untitled%2091.png)
    
    ç°åœ¨ç›´æ¥ç”¨ router.route(â€™urlâ€™).get(controler) æ¥å°è£…èµ·æ¥
    
    ![Untitled](Untitled%20139.png)
    
    åœ¨ controller å†…éƒ¨ï¼Œåªéœ€è¦æŠŠä»¥å‰å†™åœ¨ router é‡Œé¢çš„å‡½æ•°å¤åˆ¶è¿‡å»
    
    ![Untitled](Untitled%20140.png)
    
- 1. æ–°å»º authUser çš„ Route å’Œ Controller (r+u=æ¥å£)
    
    (1)åœ¨ server.js ä¸­æ·»åŠ  userRoutes
    
    ![Untitled](Untitled%20141.png)
    
    (2)æ–°å»º userRoutes.jsï¼Œæ¥åˆ° authUser è¿™ä¸ª Controller
    
    ![Untitled](Untitled%20142.png)
    
    (3)æ–°å»º userController.jsï¼Œåˆ›å»º authUser è¿™ä¸ª Controllerï¼Œå¤„ç† request
    
    ![Untitled](Untitled%20143.png)
    
    ä¸ºäº†æˆ‘ä»¬èƒ½åœ¨ body ä¸­æ¥æ”¶ json æ•°æ®ï¼Œéœ€è¦åœ¨ server.js é‡Œé¢æ·»åŠ ä¸€ä¸ªä¸­é—´ä»¶
    
    ![Untitled](Untitled%20144.png)
    
    æ•ˆæœï¼š
    
    ![Untitled](Untitled%20145.png)
    
    ä¸Šé¢åªæ˜¯æµ‹è¯•ä¸€ä¸‹æ¥å£èƒ½ä¸èƒ½è·‘é€šï¼Œä¸‹é¢å¼€å§‹æ­£å¼åŒ¹é…è´¦å·å’Œå¯†ç ï¼Œå¹¶ä¸”è¿”å›ç”¨æˆ·ä¿¡æ¯ï¼š
    
    (1)åœ¨ userModel é‡Œé¢æ·»åŠ  bcrypt match çš„æ–¹æ³•ï¼š
    
    å› ä¸ºæ•°æ®åº“é‡Œé¢çš„å¯†ç æ˜¯åŠ å¯†çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦é€šè¿‡ bcrypt.compare çš„æ–¹æ³•æ¥æ¯”è¾ƒè¾“å…¥çš„è¿™ä¸ªæ–‡æœ¬å­—ç¬¦ä¸²å’Œæ•°æ®åº“ä¸­åŠ å¯†è¿‡çš„å¯†ç æ˜¯ä¸æ˜¯ä¸€æ ·çš„
    
    ![Untitled](Untitled%20146.png)
    
    ![Untitled](Untitled%20147.png)
    
    (2)ä¿®æ”¹ userController é‡Œçš„æ–¹æ³•ï¼Œåˆ¤æ–­èº«ä»½éªŒè¯æ˜¯å¦æˆåŠŸï¼š
    
    ![Untitled](Untitled%20148.png)
    
    (3)ç°åœ¨çš„æ•ˆæœï¼šéªŒè¯ email å’Œ passward æˆåŠŸä¹‹åï¼Œä¼šè¿”å› user çš„ä¿¡æ¯
    
    ![Untitled](Untitled%20149.png)
    
- 2. Authentication å’Œ Authorization çš„åŒºåˆ«
    
    **è®¤è¯å’Œæˆæƒæ˜¯ä¸¤ä»¶ä¸åŒçš„äº‹æƒ…**
    
    ä¹‹å‰ï¼Œæˆ‘ä»¬å·²ç»å®ç°äº†**è®¤è¯**(Authentication)ï¼Œæˆ‘ä»¬æ¥å—ç”µå­é‚®ä»¶å’Œå¯†ç ï¼Œåœ¨æ•°æ®åº“ä¸­å¯¹å…¶è¿›è¡Œè®¤è¯ï¼Œè¯æ˜æ˜¯è¿™ä¸ªç”¨æˆ·æœ¬äºº
    
    ç°åœ¨ï¼Œ**æˆæƒ**(Authorization)æ˜¯è®©è¯¥ç”¨æˆ·æœ‰æƒé™è®¿é—®æŸäº›éƒ¨åˆ†ï¼Œæˆ–è€… API ä¸­çš„æŸäº›å—ä¿æŠ¤ routesï¼Œæˆ‘ä»¬é€šè¿‡å‘é€ Json Webä»¤ç‰Œæ¥åšåˆ°è¿™ä¸€ç‚¹
    
    å½“ç™»å½•æ—¶ï¼Œå®ƒå°†åˆ›å»ºä¸€ä¸ªJson Web ä»¤ç‰Œï¼Œå¹¶å°†å…¶ä¸ä¸€ä¸ªå¯†é’¥ signã€‚è¿™æ ·æœåŠ¡å™¨å°±å¯ä»¥çŸ¥é“å®ƒæ˜¯å¦è¢«ç¯¡æ”¹äº†ï¼Œç„¶åè¿™ä¸ª token å°±ä¼šè¢«é€å›ç»™å®¢æˆ·ï¼Œå¯ä»¥æŠŠå®ƒå­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼Œå¯ä»¥æŠŠå®ƒå­˜å‚¨åœ¨æµè§ˆå™¨ä¸­ã€‚å½“æˆ‘ä»¬å¿…é¡»è®¿é—®ä»»ä½•å—ä¿æŠ¤çš„ routes æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ header ä¸­å‘é€è¯¥ä»¤ç‰Œ
    
    **token** **æœ‰ä¸‰ä¸ªä¸åŒçš„éƒ¨åˆ†**
    
    - headerï¼ŒåŒ…æ‹¬ä»¤ç‰Œçš„ç±»å‹ï¼Œè¿™å°†æ˜¯JWTï¼Œç„¶åæ˜¯ç”¨æ¥ç­¾åçš„ç®—æ³•ã€‚
    - payload æ•°æ®æ˜¯å®é™…å†…å®¹,é€šå¸¸æˆ‘ä»¬ä¼šå‘é€ä¸€ä¸ª user ID æˆ– session ID æ¥è¯†åˆ«ç”¨æˆ·ï¼Œæˆ‘ä»¬ä¼šæŠŠå®ƒæ”¾åœ¨ payload ä¸­ã€‚ä½ è¦ç¡®ä¿ä¸è¦æŠŠå®‰å…¨æ•°æ®ï¼Œå¦‚å¯†ç è¯¸å¦‚æ­¤ç±»çš„æ•°æ®æ”¾åœ¨é‡Œé¢ï¼Œæ‰€ä»¥é€šå¸¸æˆ‘ä»¬åªå‘é€ä¸€ä¸ªç”¨æˆ·IDã€‚è¿™æ ·ï¼ŒæœåŠ¡å™¨å°±å¯ä»¥æ”¶åˆ°å®ƒï¼Œæˆ‘ä»¬å°±å¯ä»¥åšä¸€ä¸ªæ•°æ®åº“è°ƒç”¨ï¼Œæˆ–è€…æˆ‘ä»¬å¯ä»¥å¾—åˆ°é‚£ä¸ªç”¨æˆ·
    - signature ç­¾åæ˜¯ç”¨æ¥éªŒè¯æ²¿é€”æ˜¯å¦æœ‰ä»»ä½•æ”¹å˜ï¼Œå®ƒéªŒè¯äº†å‘ä»¶äººæ˜¯ä»–ä»¬æ‰€è¯´çš„é‚£ä¸ªäºº
    
    å¯ä»¥åœ¨è¿™ä¸ªç½‘ç«™è§£æ tokenï¼Œ**jwt.io**
    
    ![Untitled](Untitled%20150.png)
    
    **æ–¹æ³•ï¼šåœ¨ header é‡Œé¢æ·»åŠ  Authentication**
    
    å¦‚æœæˆ‘ä»¬ç°åœ¨è·³å›åˆ° Postmanä¸Šï¼Œå½“æˆ‘ä»¬ post è¿™ä¸ª login routeæ—¶ï¼Œå®ƒå°±ä¼š**è®¤è¯**æˆ‘ä»¬çš„èº«ä»½(Authentication)ã€‚ä½†æˆ‘ä»¬åªå¾—åˆ°ä¸€äº›åŸºæœ¬çš„ç”¨æˆ·æ•°æ®ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰å¾—åˆ°ä¸€ä¸ªæˆ‘ä»¬å¯ä»¥ç”¨æ¥å‘é€åˆ°å—ä¿æŠ¤ route çš„ token
    
    ![Untitled](Untitled%20151.png)
    
    æ‰€ä»¥åœ¨ä¸‹ä¸€ä¸ªè§†é¢‘ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿å®ƒèƒ½å¤Ÿå‘é€ä¸€ä¸ªä»¤ç‰Œå›æ¥
    
    è¿™æ ·åšçš„æ–¹æ³•æ˜¯ï¼Œä¸€æ—¦æˆ‘ä»¬å¾—åˆ°å®ƒï¼Œå°±è¯´æ˜ï¼Œè¿™ä¸ª route æ˜¯å—ä¿æŠ¤çš„ï¼Œæˆ‘ä»¬å°†åˆ›å»ºæˆ‘ä»¬è‡ªå·±çš„ middlewareï¼Œæˆ‘ä»¬å°†åˆ›å»ºæˆ‘ä»¬è‡ªå·±çš„ä¸­é—´ä»¶æ¥ä¿æŠ¤è·¯ç”±ï¼Œä½†å¦‚æœè¿™æ˜¯å—ä¿æŠ¤çš„ï¼Œæˆ‘ä»¬å°†ä¸å¾—ä¸åœ¨ header ä¸­å‘é€æˆæƒå€¼ï¼Œæˆ‘ä»¬å°†æ”¾ç½®ä»¤ç‰Œï¼Œlike this
    
    ![Untitled](Untitled%20152.png)
    
    å½“æˆ‘ä»¬åˆ°è¾¾æˆ‘ä»¬çš„å‰ç«¯æ—¶ï¼Œæˆ‘ä»¬å°†é‡‡å–ä»¤ç‰Œï¼Œæˆ‘ä»¬å°†æŠŠå®ƒå­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼Œç„¶åæˆ‘ä»¬ä¼šç”¨ Axios å‘é€ã€‚å½“ç„¶å¦‚æœä½ æ„¿æ„ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨Fetch
    
- 3. åœ¨èº«ä»½è®¤è¯æˆåŠŸä¹‹åï¼Œç”Ÿæˆå¹¶è¿”å› JWT json web token
    
    å®‰è£… jsonwebtoken
    
    ```jsx
    npm i jsonwebtoken
    ```
    
    æ–°å»º utils æ–‡ä»¶å¤¹ï¼Œåœ¨é‡Œé¢å†™ generateToken çš„æ–¹æ³•ï¼š
    
    ![Untitled](Untitled%20153.png)
    
    åœ¨ userController å¼•å…¥è¿™ä¸ªç”Ÿæˆ token çš„å‡½æ•°ï¼Œç„¶ååœ¨ç”¨æˆ·èº«ä»½è®¤è¯æˆåŠŸä¹‹åè¿”å›çš„ user ä¿¡æ¯é‡Œï¼Œç”¨è¿™ä¸ªå‡½æ•°ç”Ÿæˆä¸€ä¸ª tokenï¼š
    
    ![Untitled](Untitled%20154.png)
    
    ![Untitled](Untitled%20155.png)
    
    æ•ˆæœï¼šèº«ä»½è®¤è¯æˆåŠŸä¹‹åï¼Œæˆ‘ä»¬å¾—åˆ°äº† token
    
    ![Untitled](Untitled%20156.png)
    
    å¯ä»¥çœ‹åˆ° token é‡Œéšè—çš„ä¿¡æ¯ï¼Œexp æ˜¯è¿‡æœŸæ—¶é—´ï¼Œexp çš„å€¼æ˜¯ä¸ªæ—¶é—´æˆ³ï¼š
    
    ![Untitled](Untitled%20157.png)
    
- 4. æ–°å»º middleware åŒ¹é…å¹¶è§£æ token ä¿¡æ¯
    
    **ä¸‹é¢åˆ›å»ºä¸€ä¸ªéœ€è¦æˆæƒæ‰èƒ½è®¿é—®çš„å—ä¿æŠ¤çš„ routeï¼š**
    
    æ–°å»ºä¸€ä¸ª access å±æ€§ä¸º private (æ€ä¹ˆæ‰èƒ½å®ç°å®ƒçš„ç§æœ‰å±æ€§å‘¢ï¼Œåé¢éœ€è¦é€šè¿‡ä¸€ä¸ª protect çš„ä¸­é—´ä»¶æ¥å®ç°) çš„ getUserProfile çš„ controllerï¼Œåªæœ‰å½“èº«ä»½è®¤è¯æˆåŠŸä¹‹åæ‰èƒ½è®¿é—®è¿™ä¸ªæ¥å£ï¼š
    
    (æµ‹è¯•ç‰ˆæœ¬)
    
    ![Untitled](Untitled%20158.png)
    
    (å®Œå–„ç‰ˆæœ¬)
    
    ![Untitled](Untitled%20159.png)
    
    åœ¨ userRoute é‡Œæ·»åŠ è¿™ä¸ª /profileï¼Œå¯¹æ¥ getUserProfile è¿™ä¸ª controllerï¼Œæ¯æ¬¡æ·»åŠ äº†æ–°çš„ controller ä¹‹åéƒ½è¦è®°å¾—åœ¨è¿™é‡Œæ³¨å†Œå‘€ï¼
    
    ![Untitled](Untitled%20160.png)
    
    **ä¸‹é¢å¼€å§‹å®ç° protect ä¸­é—´ä»¶ï¼š**
    
    åœ¨ middleware æ–‡ä»¶å¤¹ä¸‹é¢ï¼Œæ–°å»º anthMiddleware.js æ–‡ä»¶
    
    1. ä» header é‡Œé¢çš„ authorization å¤´é‡Œé¢çš„ä¿¡æ¯æ‹¿åˆ° token
    2. é€šè¿‡ jwt.decode(token,secret)ï¼Œæ¥è§£æ tokenï¼Œè§£æå‡ºæ¥çš„ä¿¡æ¯æ‰“å°å‡ºæ¥å°±æ˜¯ä¸‹é¢çš„ jsonï¼Œäºæ˜¯å°±å¯ä»¥æ‹¿åˆ° id
        
        ```jsx
        {
            id: '5f6bf78dqi0w',
            iat: 1600978514,
            exp: 1600978514
        }
        ```
        
    3. é€šè¿‡ id æŸ¥æ‰¾ç”¨æˆ·ï¼Œè¿”å›é™¤äº†å¯†ç ä»¥å¤–çš„ä¿¡æ¯
    4. æ²¡æœ‰ token çš„æƒ…å†µå¤„ç†
    
    ![Untitled](Untitled%20161.png)
    
    ç„¶åï¼Œåœ¨ profile è¿™ä¸ª route çš„å‚æ•°é‡Œé¢ï¼ŒåŠ ä¸Š protect è¿™ä¸ªä¸­é—´ä»¶ï¼Œè¿™æ ·åªè¦æˆ‘ä»¬è§¦å‘äº†è¿™ä¸ª routeï¼Œprotect ä¸­é—´ä»¶å°±ä¼šè¿è¡Œ
    
    ![Untitled](Untitled%20162.png)
    
    æ•ˆæœï¼š
    
    ![Untitled](Untitled%20163.png)
    
    **TIPSï¼š**
    
    æŠŠ /login ç”Ÿæˆçš„ token ä¿ç•™åœ¨ postman é‡Œé¢ï¼Œè¿™æ ·åœ¨è°ƒç”¨ /profile çš„æ—¶å€™å°±ä¸ç”¨ä¸€ç›´ copyäº†
    
    ![Untitled](Untitled%20164.png)
    
    å½“æˆ‘ä»¬è¿è¡Œå®Œ /login ä¹‹åï¼Œå¯ä»¥å‘ç° postman çš„ env æ–‡ä»¶é‡Œä¿ç•™äº†è¿™ä¸ª token
    
    ![Untitled](Untitled%20165.png)
    
    åœ¨è¿™ä¸ªåœ°æ–¹è®¾ç½®å¥½ {{TOKEN}}
    
    ![Untitled](Untitled%20166.png)
    
- 5. æ–°å»º userRegister çš„ Route å’Œ Controller
    
    æ–°å»º registerUser çš„ Controllerï¼Œä½œç”¨æ˜¯è§£æ request body é‡Œé¢ä¼ è¿›æ¥çš„ user å¯¹è±¡ï¼Œç„¶åé€šè¿‡ User.create() åœ¨æ•°æ®åº“åˆ›å»ºä¸€ä¸ªæ–°çš„ç”¨æˆ·ä¿¡æ¯
    
    ![Untitled](Untitled%20167.png)
    
    ![Untitled](Untitled%20168.png)
    
    ä¸€å®šè¦è®°å¾—åœ¨ userRoutes é‡Œæ³¨å†Œ registerUser è¿™ä¸ª controller(ç¬¬ä¸€ä¸ª) 
    
    ![Untitled](Untitled%20169.png)
    
    ä¸ºäº†å¯†ç çš„å®‰å…¨ï¼Œåœ¨ useModel é‡Œé¢é¢„å¤„ç†å¯†ç åŠ å¯†ï¼š
    
    ![Untitled](Untitled%20170.png)
    
    ç„¶åå°±å¯ä»¥çœ‹åˆ°æ•°æ®åº“é‡Œçš„å¯†ç æ˜¯ç»è¿‡ hash åŠ å¯†è¿‡çš„ï¼š
    
    ![Untitled](Untitled%20171.png)
    

### 7ï¸âƒ£ å‰ç«¯èº«ä»½è®¤è¯

- 1. ç”¨æˆ·ç™»å½•çš„ reducer & action
    
    (1) æ–°å»º userConstant
    
    ![Untitled](Untitled%20172.png)
    
    (2) æ–°å»º userLoginReducers
    
    ![Untitled](Untitled%20173.png)
    
    (3) åœ¨ store.js é‡Œé¢æ³¨å†Œè¿™ä¸ª reducer
    
    ![Untitled](Untitled%20174.png)
    
    (4) åœ¨ useAction.js æ–‡ä»¶é‡Œé¢æ–°å»º login çš„ action creatorï¼Œå¦‚æœåŒ¹é…æˆåŠŸäº†ï¼Œè¦å°† userInfo å­˜è¿› localstorage é‡Œé¢å»
    
    ![Untitled](Untitled%20175.png)
    
    ![Untitled](Untitled%20176.png)
    
    (5) åœ¨ store.js é‡Œé¢å¼•å…¥ cartItem çš„ localStorage
    
    ![Untitled](Untitled%20177.png)
    
- 2. ç”¨æˆ·ç™»å½•çš„ screen function
    
    tåœ¨ screen æ–‡ä»¶å¤¹é‡Œé¢æ–°å»º loginScreen.jsï¼Œç„¶ååœ¨ app.js é‡Œé¢æ·»åŠ  loginScreen çš„è·¯ç”±
    
    ![Untitled](Untitled%20178.png)
    
    åœ¨ component æ–‡ä»¶å¤¹é‡Œæ–°å»º formContainer.js
    
    ![Untitled](Untitled%20179.png)
    
    **loginScreen.jsï¼š**
    
    > è·¯ç”±é‡å®šå‘çš„éƒ¨åˆ†æ²¡æœ‰çœ‹æ‡‚ï¼Œä¸ºä»€ä¹ˆç™»å½•æˆåŠŸä¹‹åå°±ç›´æ¥è·³è½¬åˆ°ä¸»é¡µäº†å‘¢ï¼Ÿè¿˜æœ‰ç»„ä»¶çš„å‚æ•° location, history ä¹Ÿæ²¡æœ‰çœ‹æ‡‚
    > 
    
    å¥½åƒçœ‹æ‡‚äº†ï¼Œlocation.search æ˜¯è·å– url å‚æ•°çš„æ–¹æ³•ï¼Œåœ¨ react ç»„ä»¶çš„ componentDidMount æ–¹æ³•ä¸­æ‰“å°ä¸€ä¸‹ this.propsï¼Œåœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­æŸ¥çœ‹è¾“å‡ºå¦‚ä¸‹ï¼Œå…¶ä¸­é¡µé¢çš„ url ä¿¡æ¯å…¨éƒ½åŒ…å«åœ¨ match å­—æ®µä¸­
    
    ```jsx
    localhost:3000/app/knowledgeManagement/modify
    /STY20171011124209535/3/1507701970070/0/?s=1&f=7
    ```
    
    ![Untitled](Untitled%205.png)
    
    ![Untitled](Untitled%206.png)
    
    - matchï¼šåŒ…å«äº†å…·ä½“çš„ url ä¿¡æ¯ï¼Œåœ¨ params å­—æ®µä¸­å¯ä»¥è·å–åˆ°å„ä¸ªè·¯ç”±å‚æ•°çš„å€¼
    - historyï¼šåŒ…å«äº†ç»„ä»¶å¯ä»¥ä½¿ç”¨çš„å„ç§è·¯ç”±ç³»ç»Ÿçš„æ–¹æ³•ï¼Œå¸¸ç”¨çš„æœ‰ push å’Œ replaceï¼Œä¸¤è€…éƒ½æ˜¯è·³è½¬é¡µé¢ï¼Œä½†æ˜¯ replace ä¸ä¼šå¼•èµ·é¡µé¢çš„åˆ·æ–°ï¼Œä»…ä»…æ˜¯æ”¹å˜ url
    - locationï¼šç›¸å½“äº URL çš„å¯¹è±¡å½¢å¼è¡¨ç¤ºï¼Œé€šè¿‡ search å­—æ®µå¯ä»¥è·å–åˆ° url ä¸­çš„ query ä¿¡æ¯ï¼ˆè¿™é‡Œ state çš„å«ä¹‰ä¸ HTML5 history.pushState API ä¸­çš„ state å¯¹è±¡ä¸€æ ·ã€‚æ¯ä¸ª URL éƒ½ä¼šå¯¹åº”ä¸€ä¸ª state å¯¹è±¡ï¼Œä½ å¯ä»¥åœ¨å¯¹è±¡é‡Œå­˜å‚¨æ•°æ®ï¼Œä½†è¿™ä¸ªæ•°æ®å´ä¸ä¼šå‡ºç°åœ¨ URL ä¸­ã€‚å®é™…ä¸Šï¼Œæ•°æ®è¢«å­˜åœ¨äº† sessionStorage ä¸­ï¼‰
    
    æ‰€ä»¥ï¼Œå¦‚æœ url é‡Œé¢æ²¡æœ‰æºå¸¦ query å‚æ•°çš„è¯ï¼Œredirect çš„å€¼å°±æ˜¯ â€˜/â€™ï¼Œè¿™æ ·åœ¨ useEffect é‡Œé¢ï¼Œåªè¦ç™»å½•æˆåŠŸæ‹¿åˆ° userInfo äº†ï¼Œå°±å¯ä»¥è·³è½¬åˆ° â€˜/â€™ ä¹Ÿå°±æ˜¯ homeScreen.js ç»„ä»¶é¡µé¢
    
    ![Untitled](Untitled%20180.png)
    
    ![Untitled](Untitled%20181.png)
    
    ![Untitled](Untitled%20182.png)
    
    åœ¨ userActions é‡Œé¢å®ç° logout è¿™ä¸ª action
    
    ![Untitled](Untitled%20183.png)
    
- 3. ç”¨æˆ·æ³¨å†Œçš„ reducer & action & screen function
    
    (1) åœ¨ userConstant.js é‡Œé¢æ·»åŠ å¸¸æ•°
    
    ![Untitled](Untitled%20184.png)
    
    (2) åœ¨ userReducers.js æ–‡ä»¶é‡Œæ·»åŠ  userRegisterReducer
    
    ![Untitled](Untitled%20185.png)
    
    (3) åœ¨ store.js é‡Œé¢æ³¨å†Œè¿™ä¸ª reducer
    
    ![Untitled](Untitled%20186.png)
    
    (4) åœ¨ usrActions.js é‡Œé¢åˆ›å»º register è¿™ä¸ª action creator å‡½æ•°
    
    ![Untitled](Untitled%20187.png)
    
    ![Untitled](Untitled%20188.png)
    
    (5) æ–°å»º registerScreen.js
    
    ![Untitled](Untitled%20189.png)
    
    ![Untitled](Untitled%20190.png)
    
    ![Untitled](Untitled%20191.png)
    
    ![Untitled](Untitled%20192.png)
    
    ![Untitled](Untitled%20193.png)
    
    (6) åœ¨ App.js é‡Œé¢æ³¨å†Œ registerScreen
    
    ![Untitled](Untitled%20194.png)
    
    æ•ˆæœ
    
    ![Untitled](Untitled%20195.png)
    
- 3. å¯¼èˆªæ ç™»å½•æ˜¾ç¤ºå¤´åƒï¼Œ é€€å‡ºç™»å½•
    
    æ•ˆæœï¼š
    
    ![Untitled](Untitled%20196.png)
    
    åœ¨ component æ–‡ä»¶å¤¹ä¸­æ‰¾åˆ° header.jsï¼Œå¼•å…¥ redux çš„ userInfo è¿™ä¸ªå…¨å±€çŠ¶æ€
    
    ![Untitled](Untitled%20197.png)
    
    å¢åŠ åˆ¤æ–­æ¡ä»¶ï¼Œå¦‚æœæœ‰ userInfoï¼Œåˆ™æ˜¾ç¤ºåå­—å’Œä¸‹æ‹‰èœå•ï¼Œå¦‚æœæ²¡æœ‰ï¼Œåˆ™è¿˜æ˜¯ sign in æŒ‰é’®
    
    ![Untitled](Untitled%20198.png)
    
- 5. æ›´æ–°ç”¨æˆ·ä¿¡æ¯

### 8ï¸âƒ£ æ”¯ä»˜ API

### 9ï¸âƒ£ Admin ç³»ç»Ÿçš„ç”¨æˆ·ç®¡ç†

- 1. Get User çš„ route å’Œ controller
    
    åœ¨ userController.js é‡Œé¢æ–°å»º getUsersï¼Œè¿”å›æ‰€æœ‰çš„ç”¨æˆ·
    
    ![Untitled](Untitled%20199.png)
    
    userRoute.js é‡Œé¢æ·»åŠ  getUsers çš„ controllerï¼Œè¿™ä¸ªæ–¹æ³•ä¹Ÿæ˜¯å—ä¿æŠ¤çš„ï¼Œæ‰€ä»¥ä¹Ÿè¦åŠ ä¸Š protect è¿™ä¸ªä¸­é—´ä»¶
    
    ![Untitled](Untitled%20200.png)
    
- 2. éªŒè¯ Admin æƒé™çš„ middleware
    
    åœ¨ authMiddleware.js é‡Œé¢æ·»åŠ  admin ä¸­é—´ä»¶
    
    ![Untitled](Untitled%208.png)
    
    åœ¨ userRoutes.js é‡Œé¢å¼•å…¥ admin ä¸­é—´ä»¶ï¼Œæ”¾åœ¨ protect ä¸­é—´ä»¶åé¢ï¼Œè¡¨ç¤ºé¦–å…ˆç™»å½•ï¼Œå†éªŒè¯æ˜¯å¦æœ‰ admin çš„æƒé™ï¼Œåªæœ‰éƒ½æ»¡è¶³ï¼Œæ‰èƒ½è°ƒç”¨è¿™ä¸ª api
    
    ![Untitled](Untitled%209.png)
    
- 3. User List çš„ reducer & action & screen function
    
    (1) åœ¨ userConstant.js é‡Œé¢åŠ å…¥ user list 
    
    ![Untitled](Untitled%20201.png)
    
    (2) åœ¨ userReducers.js é‡Œé¢æ–°å¢ userListReducer
    
    ![Untitled](Untitled%20202.png)
    
    (3) åœ¨ store.js é‡Œé¢å¼•å…¥è¿™ä¸ª userListReducer
    
    ![Untitled](Untitled%20203.png)
    
    (4) åœ¨ userActions.js é‡Œé¢æ–°å¢ listUsers è¿™ä¸ª action creator function
    
    è¿™é‡Œçš„ 204 è¡Œçš„ä»£ç æ²¡æœ‰çœ‹æ‡‚æ˜¯ä»€ä¹ˆæ„æ€
    
    ![Untitled](Untitled%20204.png)
    
    ![Untitled](Untitled%20205.png)
    
    (5) åˆ›å»º userListScreen.js
    
    æ•ˆæœ
    
    ![Untitled](Untitled%20206.png)
    
    ![Untitled](Untitled%20207.png)
    
    è¡¨æ ¼çš„ html
    
    ![Untitled](Untitled%20208.png)
    
    ![Untitled](Untitled%20209.png)
    
    ![Untitled](Untitled%20210.png)
    
    (6) åœ¨ App.js é‡Œé¢å¼•å…¥è¿™ä¸ª userListScreen
    
    ![Untitled](Untitled%20211.png)
    
    (7) è®¾ç½®è¿›å…¥è¿™ä¸ª userListScreen çš„å…¥å£ï¼Œåœ¨ header çš„ä¸‹æ‹‰èœå•é‡Œé¢ï¼Œå¢åŠ äº†â€œç”¨æˆ·ç®¡ç†â€ã€â€œå•†å“ç®¡ç†â€ã€â€œè®¢å•ç®¡ç†â€ä¸‰ä¸ª drop down menu
    
    ![Untitled](Untitled%20212.png)
    
- 4. Access security

### 1ï¸âƒ£0ï¸âƒ£ Admin ç³»ç»Ÿçš„å•†å“ç®¡ç†

### 1ï¸âƒ£1ï¸âƒ£ å‘è¡¨äº§å“çš„è¯„è®º

- 1. å‘è¡¨è¯„è®ºçš„ route å’Œ controller
- 2. å‘è¡¨è¯„è®ºå‰ç«¯å®ç°
    
    æ•ˆæœå›¾ï¼š
    
    ![Untitled](Untitled%20213.png)
    

### 1ï¸âƒ£2ï¸âƒ£ æ¨¡ç³Šæœç´¢æ ã€äº§å“åˆ†é¡µã€æ˜¾ç¤ºtop10

- 1. æ¨¡ç³Šæœç´¢
    
    åœ¨ App.js é‡Œé¢åŠ å…¥è¿™ä¸ª route
    
    ![Untitled](Untitled%20214.png)
    
    æ–°å»º searchBox.js è¿™ä¸ª component
    
    ![Untitled](Untitled%20215.png)
    
    ![Untitled](Untitled%20216.png)
    
    åœ¨ header é‡Œé¢å¼•å…¥ searchBox
    
    ![Untitled](Untitled%20217.png)
    
    ä¿®æ”¹ productAction.js é‡Œé¢çš„ listProducts
    
    ![Untitled](Untitled%20218.png)
    
    æ‰€ä»¥åœ¨ä½¿ç”¨ listProducts çš„åœ°æ–¹å°±æ˜¯ HomeScreen ä¹Ÿè¦æœ‰æ‰€æ”¹åŠ¨
    
    ![Untitled](Untitled%20219.png)
    
    ä¿®æ”¹ productController é‡Œé¢çš„ getProducts å‡½æ•°ï¼Œä½¿ç”¨äº†æ­£åˆ™è¡¨è¾¾å¼
    
    ![Untitled](Untitled%2011.png)
    
- 2. HomeScreen çš„åˆ†é¡µå±•ç¤º
- 3. AdminScreen çš„åˆ†é¡µå±•ç¤º
- 4. è½®æ’­å›¾æ˜¾ç¤ºæœ€ç«çš„ top3 äº§å“
    
    Product.find({}).sort({rating:-1}).limit(3)
    
    ![Untitled](Untitled%20220.png)
    
    mongoDB sort çš„åº•å±‚å®ç°
    
    ```jsx
    db.testdoc.find({"a":2222}).sort({"_id":-1}).limit(10)
    ```
    
    å½“æ•°æ®é‡å°‘æ—¶ï¼Œä¼šä½¿ç”¨`{"_a":1}`ç´¢å¼•ï¼Œå¹¶è¿›è¡Œå†…å­˜æ’åºï¼Œå½“æ•°æ®é‡å¤§æ—¶ï¼Œä¼šä½¿ç”¨`{"_id":1}`
    ç´¢å¼•ï¼Œè¿™ä¸ªæ—¶å€™`find`é‡Œçš„aå¹¶æ²¡æœ‰ç”¨åˆ°ç´¢å¼•ï¼Œæ‰€ä»¥æœ€ç»ˆæ˜¯ä¼šæ‰«ææ‰€æœ‰æ–‡æ¡£ï¼Œé€Ÿåº¦éå¸¸æ…¢ 
    
- 5. page tile

### 1ï¸âƒ£3ï¸âƒ£ éƒ¨ç½²åœ¨ Heroku

- 1. npm run build ç”Ÿæˆ build æ–‡ä»¶å¤¹
    
    ![Untitled](Untitled%20221.png)
    
    npm run build â†’ ç”Ÿæˆä¸€ä¸ªbuildåŒ…
    
    è¿›å…¥åç«¯çš„server.js é…ç½®
    
    ![Untitled](Untitled%20222.png)
    
    ç„¶åè·‘ npm startï¼Œå¯åŠ¨backend
    
- 2. Deploy on Heruko
    
    **Heroku CLI æ–¹æ³•æ€»è§ˆï¼š**
    
    ![Untitled](Untitled%20223.png)
    
    ç™»å½•ï¼š
    
    ![Untitled](Untitled%20224.png)
    
    ä¸‹è½½ heruko CLI
    
    ![Untitled](Untitled%20225.png)
    
    åœ¨å‘½ä»¤è¡Œè¾“å…¥ `heruko login` çš„å‘½ä»¤ï¼Œå¼¹å‡ºç™»å½•ç½‘é¡µï¼Œç‚¹å‡»ç™»å½•
    
    ![Untitled](Untitled%20226.png)
    
    `heroku create proshopapp`
    
    ![Untitled](Untitled%20227.png)
    
    å¯ä»¥ç‚¹å¼€è¿™ä¸ªç½‘å€
    
    ![Untitled](Untitled%20228.png)
    
    å¯ä»¥çœ‹åˆ°æ–°é¡¹ç›®çš„æ¬¢è¿é¡µé¢
    
    ![Untitled](Untitled%20229.png)
    
    åœ¨é¡¹ç›®é‡Œæ–°å»ºProcfile æ–‡ä»¶
    
    ![Untitled](Untitled%20230.png)
    
    ![Untitled](Untitled%20231.png)
    
    ç”¨gitå·¥å…·æäº¤
    
    ![Untitled](Untitled%20232.png)
    
    åœ¨settingé‡Œé…ç½® .env æ–‡ä»¶çš„å‚æ•°
    
    ![Untitled](Untitled%20233.png)
    
    ![Untitled](Untitled%20234.png)
    
    éƒ¨ç½²æˆåŠŸï¼ï¼
    
    ![Untitled](Untitled%20235.png)